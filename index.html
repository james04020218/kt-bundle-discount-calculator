<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KT κ²°ν•© ν• μΈ κ³„μ‚°κΈ°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; /* slate-50 */ }
        .input-group { margin-bottom: 1.5rem; }
        .input-label { display: block; margin-bottom: 0.5rem; font-weight: 500; color: #334155; /* slate-700 */ }
        .input-field, .select-field { width: 100%; padding: 0.5rem 0.75rem; border: 1px solid #cbd5e1; /* slate-300 */ border-radius: 0.375rem; box-shadow: sm; transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out; }
        .input-field:focus, .select-field:focus { border-color: #0ea5e9; /* sky-500 */ outline: none; box-shadow: 0 0 0 0.2rem rgba(14, 165, 233, 0.25); }
        .btn-primary { background-color: #0ea5e9; /* sky-500 */ color: white; padding: 0.75rem 1.5rem; border-radius: 0.375rem; font-weight: 600; transition: background-color 0.3s ease; }
        .btn-primary:hover { background-color: #0284c7; /* sky-600 */ }
        .btn-secondary { background-color: #64748b; /* slate-500 */ color: white; padding: 0.5rem 1rem; border-radius: 0.375rem; font-weight: 500; transition: background-color 0.3s ease; }
        .btn-secondary:hover { background-color: #475569; /* slate-600 */ }
        .section-title { font-size: 1.5rem; font-weight: 700; color: #0369a1; /* sky-700 */ margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 2px solid #38bdf8 /* sky-400 */;}
        .result-card { background-color: white; padding: 1.5rem; border-radius: 0.5rem; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06); margin-bottom: 1.5rem; }
        .result-label { color: #475569; /* slate-600 */ }
        .result-value { color: #1e293b; /* slate-800 */ font-weight: 600;}
        .total-value { color: #f59e0b; /* amber-500 */ font-size: 1.5rem; font-weight: 700;}
        .mobile-line-item { border: 1px solid #e2e8f0; /* slate-200 */ padding: 1rem; border-radius: 0.375rem; margin-bottom: 0.75rem; }
        .radio-label { margin-right: 1rem; margin-bottom: 0.5rem; display: inline-flex; align-items: center; cursor: pointer;}
        .radio-input { margin-right: 0.5rem; accent-color: #0ea5e9; /* sky-500 */ }
        .info-box { background-color: #eff6ff; /* blue-50 */ border-left: 4px solid #3b82f6; /* blue-500 */ padding: 1rem; margin-top:0.5rem; margin-bottom:1rem; font-size: 0.875rem; color: #1e40af; /* blue-800 */}
        .info-box ul { padding-left: 1.25rem; list-style-type: disc; }
        .info-box ul ul { padding-left: 1rem; list-style-type: circle;}
        .toggle-switch { position: relative; display: inline-block; width: 40px; height: 20px; margin-left: 10px; vertical-align: middle;}
        .toggle-switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; border-radius: 20px;}
        .slider:before { position: absolute; content: ""; height: 16px; width: 16px; left: 2px; bottom: 2px; background-color: white; transition: .4s; border-radius: 50%;}
        input:checked + .slider { background-color: #2196F3; } /* KT Sky Blue for toggle */
        input:checked + .slider:before { transform: translateX(20px); }
        .discount-details { background-color: #e0f2fe; border: 1px solid #7dd3fc; padding: 0.75rem; border-radius: 0.375rem; font-size:0.875rem; }
        .discount-details ul { padding-left: 1.25rem; }
        .discount-details ul ul { padding-left: 1rem; }
        .summary-item { margin-bottom: 0.25rem; }
        .message-script-area { width: 100%; min-height: 150px; padding: 0.5rem; border: 1px solid #cbd5e1; border-radius: 0.375rem; font-size: 0.875rem; white-space: pre-wrap; word-wrap: break-word; }
        .copy-button-container { text-align: right; margin-top: 0.5rem; }
        .copy-feedback { font-size: 0.75rem; color: green; margin-left: 0.5rem; }
    </style>
</head>
<body class="text-slate-800">
    <header class="bg-sky-700 text-white p-6 shadow-md">
        <div class="container mx-auto max-w-4xl">
            <h1 class="text-3xl font-bold text-center">KT κ²°ν•© ν• μΈ κ³„μ‚°κΈ°</h1>
            <p class="text-center text-sky-200 mt-1">μ„ νƒν•μ‹  μ„λΉ„μ¤μ™€ ν• μΈ μ ν•μ— λ”°λ¥Έ μμƒ μ”κΈμ„ κ³„μ‚°ν•΄ λ³΄μ„Έμ”.</p>
        </div>
    </header>

    <main class="container mx-auto max-w-4xl p-4 sm:p-6 lg:p-8">
        <section id="inputSection" class="mb-8">
            <h2 class="section-title">1. μ„λΉ„μ¤ μ„ νƒ (3λ…„ μ•½μ • κΈ°μ¤€, VAT ν¬ν•¨)</h2>
            <p class="mb-6 text-sm text-slate-600">μ•„λ ν•­λ©λ“¤μ„ μ„ νƒν•κ±°λ‚ μ…λ ¥ν•΄μ£Όμ„Έμ”. λ¨λ“  μ”κΈμ€ KT ν‘μ¤€ 3λ…„ μ•½μ •, λ¶€κ°€μ„Έ ν¬ν•¨ κΈμ•΅μ„ κΈ°μ¤€μΌλ΅ ν•©λ‹λ‹¤. TV, μ „ν™”, λ¨λ°”μΌ μ„ νƒμ€ μΈν„°λ„· μ”κΈ ν• μΈ κ³„μ‚°μ— μν–¥μ„ λ―ΈμΉ©λ‹λ‹¤.</p>

            <div class="grid md:grid-cols-2 gap-6">
                <div class="input-group">
                    <label for="internetPlan" class="input-label">μΈν„°λ„· μ”κΈμ </label>
                    <select id="internetPlan" class="select-field">
                        <option value="none">μ„ νƒ μ•ν•¨</option>
                        <option value="μΈν„°λ„· μ¬λ¦Ό" data-price="22000" data-modem="0" data-speed="100" data-type="100M">μΈν„°λ„· μ¬λ¦Ό (100Mbps, μ›” 22,000μ›)</option>
                        <option value="μΈν„°λ„· λ² μ΄μ§" data-price="33000" data-modem="0" data-speed="500" data-type="500M_1G">μΈν„°λ„· λ² μ΄μ§ (500Mbps, μ›” 33,000μ›)</option>
                        <option value="μΈν„°λ„· μ—μ„Όμ¤" data-price="38500" data-modem="0" data-speed="1000" data-type="500M_1G">μΈν„°λ„· μ—μ„Όμ¤ (1Gbps, μ›” 38,500μ›)</option>
                        <option value="μΈν„°λ„· ν”„λ¦¬λ―Έμ—„" data-price="44000" data-modem="0" data-speed="2500" data-type="500M_1G">μΈν„°λ„· ν”„λ¦¬λ―Έμ—„ (2.5Gbps, μ›” 44,000μ›)</option> 
                        </select>
                    <p class="text-xs text-slate-500 mt-1">μ°Έκ³ : μ„ μ”κΈμ€ λ¨λ€ μ„λ€λ£ 3λ…„ μ•½μ • μ‹ λ©΄μ  κΈ°μ¤€μ…λ‹λ‹¤.</p>
                </div>
                
                <div class="input-group">
                    <label for="wifiRouterRental" class="input-label block mb-1">μ™€μ΄νμ΄ κ³µμ κΈ° μ„λ€ (μ„ νƒ)</label>
                    <div class="flex items-center">
                        <input type="checkbox" id="wifiRouterRental" class="radio-input h-5 w-5">
                        <label for="wifiRouterRental" class="ml-2 text-sm text-slate-700">μ›” 1,100μ› (1Gbps μ΄μƒ μΈν„°λ„· μ‹ λ¬΄λ£)</label>
                    </div>
                </div>


                <div class="input-group">
                    <label for="tvPlan" class="input-label">TV μ”κΈμ  (1λ²μ§Έ TV)</label>
                    <select id="tvPlan" class="select-field">
                        <option value="none" data-category="μ—†μ">μ„ νƒ μ•ν•¨</option>
                        <option value="μ§€λ‹ TV μ¬λ¦Ό" data-price="11000" data-category="λ² μ΄μ§">μ§€λ‹ TV μ¬λ¦Ό (μ›” 11,000μ›)</option>
                        <option value="μ§€λ‹ TV λ² μ΄μ§" data-price="12100" data-category="λ² μ΄μ§">μ§€λ‹ TV λ² μ΄μ§ (μ›” 12,100μ›)</option>
                        <option value="μ§€λ‹ TV λΌμ΄νΈ" data-price="13200" data-category="λΌμ΄νΈ">μ§€λ‹ TV λΌμ΄νΈ (μ›” 13,200μ›)</option>
                        <option value="μ§€λ‹ TV μ—μ„Όμ¤" data-price="16500" data-category="μ—μ„Όμ¤">μ§€λ‹ TV μ—μ„Όμ¤ (μ›” 16,500μ›)</option>
                    </select>
                </div>

                <div class="input-group">
                    <label for="tvStb" class="input-label">TV μ…‹ν†±λ°•μ¤ (1λ²μ§Έ TV)</label>
                    <select id="tvStb" class="select-field">
                        <option value="none" data-price="0">μ„ νƒ μ•ν•¨ (TV λ―Έμ„ νƒ μ‹)</option>
                        <option value="μΌλ°ν•" data-price="2200">μΌλ°ν• (μ›” 2,200μ›)</option>
                        <option value="μ…‹ν†±λ°•μ¤ A" data-price="3300">μ…‹ν†±λ°•μ¤ A (μ›” 3,300μ›)</option>
                        <option value="UHD" data-price="4400">UHD (μ›” 4,400μ›)</option>
                        <option value="μ…‹ν†±λ°•μ¤ 3" data-price="4400">μ…‹ν†±λ°•μ¤ 3 (μ›” 4,400μ›)</option>
                    </select>
                </div>

                <div class="input-group">
                    <label for="additionalTvPlan" class="input-label">μ¶”κ°€ TV μ„ νƒ (2λ²μ§Έ TV)</label>
                    <select id="additionalTvPlan" class="select-field">
                        <option value="none" data-price="0" data-name="μ„ νƒ μ•ν•¨">μ„ νƒ μ•ν•¨</option>
                        <option value="λ² μ΄μ§ μ¶”κ°€" data-price="10670" data-name="λ² μ΄μ§ (236μ±„λ„) + κΈ°κ°€μ§€λ‹A">λ² μ΄μ§ (236μ±„λ„) + κΈ°κ°€μ§€λ‹A (μ›” 10,670μ›)</option>
                        <option value="λΌμ΄νΈ μ¶”κ°€" data-price="11220" data-name="λΌμ΄νΈ (240μ±„λ„) + κΈ°κ°€μ§€λ‹A">λΌμ΄νΈ (240μ±„λ„) + κΈ°κ°€μ§€λ‹A (μ›” 11,220μ›)</option>
                        <option value="μ—μ„Όμ¤ μ¶”κ°€" data-price="13420" data-name="μ—μ„Όμ¤ (266μ±„λ„) + κΈ°κ°€μ§€λ‹A">μ—μ„Όμ¤ (266μ±„λ„) + κΈ°κ°€μ§€λ‹A (μ›” 13,420μ›)</option>
                    </select>
                     <p class="text-xs text-slate-500 mt-1">μ°Έκ³ : μ¶”κ°€ TV μ”κΈμ€ ν•΄λ‹Ή TV ν”λκ³Ό κΈ°κ°€μ§€λ‹A μ…‹ν†±λ°•μ¤ μ„λ€λ£κ°€ ν¬ν•¨λ κΈμ•΅μ…λ‹λ‹¤.</p>
                </div>
                
                <div class="input-group">
                    <label for="phonePlan" class="input-label">μ§‘μ „ν™” μ”κΈμ  (μΈν„°λ„· κ²°ν•© μ‹)</label>
                    <select id="phonePlan" class="select-field">
                        <option value="none">μ„ νƒ μ•ν•¨</option>
                        <option value="κΈ°λ³Έμ”κΈμ " data-price="4400">κΈ°λ³Έμ”κΈμ  (μ›” 4,400μ›)</option>
                        <option value="μ μ„  3000" data-price="6050">μ μ„  3000 (μ›” 6,050μ›)</option>
                    </select>
                </div>
            </div>

            <div class="input-group mt-6">
                <label class="input-label">λ¨λ°”μΌ νμ„  μ •λ³΄ (μµλ€ 5νμ„ )</label>
                <div class="flex items-center mb-2">
                    <label for="mobileLinesCount" class="mr-2 text-sm text-slate-700">κ²°ν•©ν•  λ¨λ°”μΌ νμ„  μ:</label>
                    <input type="number" id="mobileLinesCount" min="0" max="5" value="0" class="input-field w-20 text-center">
                </div>
                <div id="mobileLinesContainer" class="space-y-3"></div>
            </div>
             <div class="input-group mt-6">
                <label for="dongpanSalesCheckKt" class="input-label flex items-center cursor-pointer">
                    <input type="checkbox" id="dongpanSalesCheckKt" class="radio-input h-5 w-5 mr-2">
                    KT λ™νμ μ‹¬ νλ§¤ μ‹ μ¶”κ°€ μ‚¬μ€ν’ μ μ© λ° μ•λ‚΄ λ³΄κΈ°
                </label>
                <div id="dongpanPolicyDetailsContainerKt" class="mt-3 hidden info-box">
                    <h4 class="font-semibold text-sm mb-2">KT μΈν„°λ„· μ μ‹¬ κ°ν†µ μ μ°¨ μ•λ‚΄ (μƒλ‹΄μ› μ°Έκ³ μ©)</h4>
                    <p class="text-xs mb-1"><strong>μ‹ μ²­ λ° μΈμ¦:</strong></p>
                    <ul class="list-disc list-inside text-xs space-y-0.5 mb-2">
                        <li>KT μΈν„°λ„· μ μ‹¬ κ°ν†µ μ‹ μ²­μ„ λ§ν¬: <a href="http://online.kt.com/index.jsp?prdcID=6C463388-3BDF-4E68-BE73-975E05BDA182" target="_blank" class="text-blue-600 hover:underline">λ°”λ΅κ°€κΈ°</a> (PASS λλ” μ‹ μ©μΉ΄λ“ μΈμ¦ ν•„μ”)</li>
                        <li>κ²°ν•© μ‹, λ™ν λ³ΈμΈμΈμ¦ λ§ν¬: <a href="https://online.kt.com/smart/simple/simpleCustomerInfoPop.do?prdcId=65278B4C-20F1-47FA-9EEF-56E9B574D346" target="_blank" class="text-blue-600 hover:underline">λ°”λ΅κ°€κΈ°</a> ('κ²°ν•©' λ¶€λ¶„λ§ μ²΄ν¬ν•μ—¬ λ¬Έμ μΈμ¦)</li>
                    </ul>
                    <p class="text-xs mb-1"><strong>κ²°ν•© κ°€λ¥ νμ„ :</strong> μΈν„°λ„· + μ μ‹¬ λ™ν + κ°€μ΅± μ μ‹¬ 2νμ„  (μ΄ 3νμ„ κΉμ§€ κ°€λ¥)</p>
                    <p class="text-xs mb-1"><strong>μ ‘μ κ³Όμ •:</strong> λ°±λ©”κ°€ μ ‘μμ›Ή(speedonline.kr) KT(μΌλ°) > λ¨λ°”μΌ νƒ­μΌλ΅ μ ‘μ</p>
                    <p class="text-xs mb-1"><strong>μ ‘μ μ‹ ν•„μ κΈ°μ¬ μ‚¬ν•­ (κΈ°νƒ€λ©”λ¨ μ–‘μ‹):</strong></p>
                    <ul class="list-disc list-inside text-xs space-y-0.5 mb-2">
                        <li>μΈν„°λ„· κ°ν†µ μ™„λ£ μ‹: "[κ°ν†µ μ™„λ£ / μ μ‹¬ λ°μ†΅ μ”μ²­]"</li>
                        <li>μ΄λ―Έ κ°ν†µλ κ³ κ° 30μΌ μ΄λ‚΄ λ™ν μ‹: "[κ°ν†µμ™„λ£ μΌμ, κ°ν†µλ²νΈ κΈ°μ¬ / μ μ‹¬ λ°μ†΅ μ”μ²­]"</li>
                        <li>κ³ κ° μ μ‹¬ μλ Ή ν›„ κ°ν†µ μ”μ²­ μ‹: "[κ³ κ° μ μ‹¬ μλ Ή μ™„λ£ / κ°ν†µ μ§„ν–‰ μ”μ²­]"</li>
                    </ul>
                    <p class="text-xs mb-1"><strong>κ°ν†µ μ§„ν–‰ λ° μ μμ‚¬ν•­:</strong></p>
                    <ul class="list-disc list-inside text-xs space-y-0.5 mb-2">
                        <li>κ³ κ°μ—κ² μ„μ•½κΈ ν™•μΈ λ° λ™μ λ¬Έμ λ°μ†΅ ν›„ μ²λ¦¬. λ―Έλ™μ μ‹ 10λ¶„ ν›„ κ°•μ  λ™μ μ²λ¦¬ κ°€λ¥.</li>
                        <li>USIM κµμ²΄ λ° μ „μ› ON μ„±κ³µ ν›„ μ„ νƒμ•½μ • λ° μ λ¬΄μ„  κ²°ν•© ν•„μ (μ™„λ£ μ‹ κ°ν†µ μ™„λ£ μ²λ¦¬).</li>
                        <li>μ μ‹¬ κ°ν†µ μµλ€ 4μ‹κ°„ μ†μ” κ°€λ¥. μ‚¬μ „ λ™μ λ¬Έμ μ²λ¦¬ μ‹ λΉ λ¥Έ κ°ν†µ.</li>
                        <li>KT USIM κ°ν†µ μ „κΉμ§€ κΈ°μ΅΄ USIM μ‚¬μ©, μ‹ νΈ λκΈ°λ©΄ κµμ²΄. κΈ°κΈ° μν μ¬μ‹λ™ ν•„μ”.</li>
                    </ul>
                    <p class="text-xs mb-1"><strong>λΉ„μ© λ° μμλ£ μ£Όμμ‚¬ν•­:</strong></p>
                    <ul class="list-disc list-inside text-xs space-y-0.5">
                        <li>μ μ‹¬ λ‹ΉμΌ λ°μ†΅ λ§κ° 15μ‹.</li>
                        <li>μ μ‹¬ λΉ„μ© 7,700μ› / λ²νΈμ΄λ™ μμλ£ 800μ› μ²« λ‹¬ μ²­κµ¬.</li>
                        <li>μΈν„°λ„·/μ μ‹¬ μ¤‘ ν•λ‚λΌλ„ μ„¤μΉ/κ°ν†µ λ¶κ°€ μ‹ μμλ£ μ§€κΈ‰ λ¶κ°€.</li>
                        <li>μΈν„°λ„· κ°ν†µμ›” κΈ°μ¤€ μµμ›” λ§κΉμ§€ μ μ‹¬ κ°ν†µ μ‹ μμλ£ μΈμ •.</li>
                        <li>μ„ νƒμ•½μ • λ―Έμ μ© μ‹ μμλ£ μ§€κΈ‰ λ¶κ°€.</li>
                        <li>μΈν„°λ„·/μ μ‹¬ λ…μμ μƒμ΄ν•΄λ„ μ μ‹¬ μμλ£ μ§€κΈ‰ κ°€λ¥.</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="discountTypeSection" class="mb-8">
            <h2 class="section-title">2. κ²°ν•© ν• μΈ μ ν• μ„ νƒ</h2>
            <div class="bg-white p-6 rounded-lg shadow">
                <p class="mb-4 text-sm text-slate-600">κ°€μ¥ μ λ¦¬ν• ν• μΈ μ ν•μ„ μ„ νƒν•κ±°λ‚, κ° μ ν•λ³„ μμƒ μ”κΈμ„ λΉ„κµν•΄λ³΄μ„Έμ”.</p>
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-2">
                     <label class="radio-label"><input type="radio" name="discountType" value="none" class="radio-input"> κ²°ν•© ν• μΈ μ—†μ</label>
                    <div class="flex items-center">
                        <label class="radio-label"><input type="radio" name="discountType" value="homeBundle" class="radio-input"> ν™ κ²°ν•© (μ μ„  μƒν’ κ°„)</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="homeBundleDetailsToggle">
                            <span class="slider"></span>
                        </label>
                        <span class="ml-1 text-xs text-slate-500">(μƒμ„Έλ³΄κΈ°)</span>
                    </div>
                    <div class="flex items-center">
                        <label class="radio-label"><input type="radio" name="discountType" value="totalAmountBundle" class="radio-input" checked> μ΄μ•΅ κ²°ν•©ν• μΈ</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="totalAmountDetailsToggle">
                            <span class="slider"></span>
                        </label>
                        <span class="ml-1 text-xs text-slate-500">(μƒμ„Έλ³΄κΈ°)</span>
                    </div>
                    <div class="flex items-center">
                        <label class="radio-label"><input type="radio" name="discountType" value="premiumFamilyBundle" class="radio-input"> ν”„λ¦¬λ―Έμ—„ κ°€μ΅±κ²°ν•©</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="premiumFamilyDetailsToggle">
                            <span class="slider"></span>
                        </label>
                        <span class="ml-1 text-xs text-slate-500">(μƒμ„Έλ³΄κΈ°)</span>
                    </div>
                    <div class="flex items-center">
                        <label class="radio-label"><input type="radio" name="discountType" value="premiumSingleBundle" class="radio-input"> ν”„λ¦¬λ―Έμ—„ μ‹±κΈ€κ²°ν•©</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="premiumSingleDetailsToggle">
                            <span class="slider"></span>
                        </label>
                        <span class="ml-1 text-xs text-slate-500">(μƒμ„Έλ³΄κΈ°)</span>
                    </div>
                    <div class="flex items-center">
                        <label class="radio-label"><input type="radio" name="discountType" value="mvnoBundle" class="radio-input"> μ•λ°ν° κ²°ν•©</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="mvnoDetailsToggle">
                            <span class="slider"></span>
                        </label>
                        <span class="ml-1 text-xs text-slate-500">(μƒμ„Έλ³΄κΈ°)</span>
                    </div>
                    <div class="flex items-center">
                        <label class="radio-label"><input type="radio" name="discountType" value="familyBundle" class="radio-input"> ν¨λ°€λ¦¬ κ²°ν•© (μΈν„°λ„· μ¶”κ°€νμ„ )</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="familyBundleDetailsToggle">
                            <span class="slider"></span>
                        </label>
                        <span class="ml-1 text-xs text-slate-500">(μƒμ„Έλ³΄κΈ°)</span>
                    </div>
                     <div class="flex items-center">
                        <label class="radio-label"><input type="radio" name="discountType" value="separateFamilyBundle" class="radio-input"> λ”°λ΅ μ‚΄μ•„λ„ κ°€μ΅±κ²°ν•©</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="separateFamilyDetailsToggle">
                            <span class="slider"></span>
                        </label>
                        <span class="ml-1 text-xs text-slate-500">(μƒμ„Έλ³΄κΈ°)</span>
                    </div>
                </div>

                <div id="homeBundleDetailsContainer" class="mt-3 hidden discount-details">
                    <p class="font-semibold mb-1">ν™ κ²°ν•© μƒμ„Έ (μƒλ‹΄μ› μ°Έκ³ μ©):</p>
                    <p>μΈν„°λ„· ν• μΈ: <span id="detailHbInternetDiscount" class="font-bold">0</span>μ›</p>
                    <hr class="my-2 border-sky-300">
                    <p class="text-xs mt-2 mb-1 text-sky-700 font-semibold">μ£Όμ” μ°Έκ³ μ‚¬ν•­:</p>
                    <ul class="list-disc list-inside text-xs space-y-0.5">
                        <li>μΈν„°λ„·κ³Ό TV λλ” μ§‘μ „ν™” μ¤‘ ν•λ‚ μ΄μƒ κ²°ν•© μ‹ μ μ©λ©λ‹λ‹¤.</li>
                        <li>μΈν„°λ„· μ”κΈμ—μ„ 5,500μ› ν• μΈλ©λ‹λ‹¤. (λ¨λ°”μΌ κ²°ν•©μ΄ μ—†λ” κ²½μ°)</li>
                        <li>TV λλ” μ§‘μ „ν™” μ”κΈ μμ²΄μ— λ€ν• ν• μΈμ€ μ΄ κ²°ν•©μ— ν¬ν•¨λμ§€ μ•μµλ‹λ‹¤.</li>
                    </ul>
                </div>
                <div id="totalAmountDetailsContainer" class="mt-3 hidden discount-details">
                    <p class="font-semibold mb-1">μ΄μ•΅κ²°ν•© μƒμ„Έ (μƒλ‹΄μ› μ°Έκ³ μ©):</p>
                    <p>μΈν„°λ„· ν• μΈ: <span id="detailInternetDiscount" class="font-bold">0</span>μ›</p>
                    <p>ν΄λ€ν° ν• μΈ (μ°Έκ³ μ©): <span id="detailMobileDiscount" class="font-bold">0</span>μ›</p>
                    <p>μ΄ ν• μΈ κΈμ•΅ (μ°Έκ³ μ©): <span id="detailTotalDiscount" class="font-bold">0</span>μ›</p>
                    <hr class="my-2 border-sky-300">
                    <p class="text-xs mt-2 mb-1 text-sky-700 font-semibold">μ£Όμ” μ°Έκ³ μ‚¬ν•­:</p>
                    <ul class="list-disc list-inside text-xs space-y-0.5">
                        <li>ν• μΈ κΈ°μ¤€: λ¶€κ°€μ„λΉ„μ¤, λ‹¨λ§κΈ° ν• λ¶€κΈ, κΈ°νƒ€ ν• μΈ λ“±μ„ μ μ™Έν• μμ μ”κΈμ μ μ΄μ•΅ κΈ°μ¤€.</li>
                        <li>ννƒ κµ¬μ΅°: μΈν„°λ„·+λ¨λ°”μΌ κ²°ν•© μ‹, κ²°ν•© νμ„ μ΄ λ§μ„μλ΅ ν• μΈ ννƒ μ¦κ°€.</li>
                        <li>λ¨λ°”μΌ ν• μΈ λ°©μ‹: λ€ν‘ 1νμ„ μ— μ „μ•΅ μ μ© λλ” κΈ°μ—¬λ„μ— λ”°λ¥Έ λ¶„ν•  μ¤‘ μ„ νƒ.</li>
                        <li>λ…μμ μ΅°κ±΄:
                            <ul class="list-disc list-inside ml-4">
                                <li>λ™μΌ λ…μμ λ¨λ°”μΌ μµλ€ 2νμ„ κΉμ§€ κ²°ν•© κ°€λ¥.</li>
                                <li>μΈν„°λ„·κ³Ό ν΄λ€ν° λ…μμκ°€ λ‹¬λΌλ„ κ²°ν•© κ°€λ¥ (λ€ν‘μ κΈ°μ¤€ μ§κ³„κ°€μ΅± λ²”μ„ λ‚΄).</li>
                            </ul>
                        </li>
                        <li>κ²°ν•© νμ„  μ: μµλ€ μΈν„°λ„· 1νμ„  + ν΄λ€ν° 5νμ„ .</li>
                        <li>μ¤‘λ³µ κ°€μ… λ¶κ°€: κΈ°μ΅΄ λ¬΄μ„ κ°„ ν΄λ€ν° κ²°ν•© μƒν’κ³Ό μ¤‘λ³µ λ¶κ°€.</li>
                    </ul>
                </div>
                <div id="premiumFamilyDetailsContainer" class="mt-3 hidden discount-details">
                    <p class="font-semibold mb-1">ν”„λ¦¬λ―Έμ—„ κ°€μ΅±κ²°ν•© μƒμ„Έ (μƒλ‹΄μ› μ°Έκ³ μ©):</p>
                    <p>μΈν„°λ„· ν• μΈ: <span id="detailPfInternetDiscount" class="font-bold">0</span>μ›</p>
                     <p>λ¨λ°”μΌ ν• μΈ (μ°Έκ³ μ©): λ² μ΄μ¤ νμ„  μ΄μ•΅ν• μΈ + μ¶”κ°€ κ³ κ°€νμ„  κ° 25%</p>
                    <hr class="my-2 border-sky-300">
                    <p class="text-xs mt-2 mb-1 text-sky-700 font-semibold">μ£Όμ” μ°Έκ³ μ‚¬ν•­:</p>
                    <ul class="list-disc list-inside text-xs space-y-0.5">
                        <li>μ΅°κ±΄: μ΄μ•΅ κ²°ν•© κΈ°λ°, μ›” 77,000μ› μ΄μƒ ν΄λ€ν° 2λ€ μ΄μƒ κ²°ν•© μ‹.</li>
                        <li>λ² μ΄μ¤ νμ„  (7.7λ§ μ΄μƒ 1νμ„ ): μ΄μ•΅κ²°ν•© λ°©μ‹μ λ¨λ°”μΌ ν• μΈ μ μ© (μ: -11,000μ›).</li>
                        <li>μ¶”κ°€ κ³ κ°€ νμ„  (2~7λ²μ§Έ, 7.7λ§ μ΄μƒ): κ° λ¨λ°”μΌ μ›”μ •μ•΅ 25% ν• μΈ (μ„ νƒμ•½μ • μ¤‘λ³µ κ°€λ¥).</li>
                        <li>μ €κ°€ νμ„ : λ² μ΄μ¤ νμ„ κ³Ό ν•©μ‚°ν•μ—¬ μ΄μ•΅κ²°ν•© ν• μΈ κ³„μ‚°μ— λ°μ.</li>
                        <li>μµλ€ μΈν„°λ„· 1νμ„  + ν΄λ€ν° 2~7νμ„ .</li>
                    </ul>
                </div>
                <div id="premiumSingleDetailsContainer" class="mt-3 hidden discount-details">
                    <p class="font-semibold mb-1">ν”„λ¦¬λ―Έμ—„ μ‹±κΈ€κ²°ν•© μƒμ„Έ (μƒλ‹΄μ› μ°Έκ³ μ©):</p>
                    <p>μΈν„°λ„· ν• μΈ: <span id="detailPsInternetDiscount" class="font-bold">0</span>μ›</p>
                    <p>λ¨λ°”μΌ ν• μΈ (μ°Έκ³ μ©): μ΅°κ±΄ μ¶©μ΅± μ‹ ν•΄λ‹Ή λ¨λ°”μΌ 25%</p>
                    <hr class="my-2 border-sky-300">
                    <p class="text-xs mt-2 mb-1 text-sky-700 font-semibold">μ£Όμ” μ°Έκ³ μ‚¬ν•­:</p>
                    <ul class="list-disc list-inside text-xs space-y-0.5">
                        <li>μ΅°κ±΄: μΈν„°λ„· 500M μ΄μƒ + ν΄λ€ν° μ›”μ •μ•΅ 77,000μ› μ΄μƒ 1νμ„ .</li>
                        <li>μΈν„°λ„· λ‹¨λ… μ‹: μΈν„°λ„· 5,500μ› ν• μΈ.</li>
                        <li>μΈν„°λ„·+TV/μ§‘μ „ν™” λ²λ“¤ μ‹: μΈν„°λ„· ν• μΈ μ—†μ (λ¨λ°”μΌ 25% ν• μΈλ§ μ μ©. κ³„μ‚°κΈ°μ—λ” μΈν„°λ„· ν• μΈλ§ ν‘μ‹).</li>
                        <li>λ¨λ°”μΌ 25% ν• μΈ: μ„ νƒμ•½μ • μ¤‘λ³µ κ°€λ¥.</li>
                    </ul>
                </div>
                <div id="familyBundleDetailsContainer" class="mt-3 hidden discount-details">
                    <p class="font-semibold mb-1">ν¨λ°€λ¦¬ κ²°ν•© (μΈν„°λ„· μ¶”κ°€νμ„ ) μƒμ„Έ (μƒλ‹΄μ› μ°Έκ³ μ©):</p>
                    <p>μΈν„°λ„· ν• μΈ (μνμ„ ): <span id="detailFbInternetDiscount" class="font-bold">0</span>μ›</p>
                    <hr class="my-2 border-sky-300">
                     <p class="text-xs mt-2 mb-1 text-sky-700 font-semibold">μ£Όμ” μ°Έκ³ μ‚¬ν•­:</p>
                    <ul class="list-disc list-inside text-xs space-y-0.5">
                        <li>μ΅°κ±΄: κΈ°μ΅΄ KT μΈν„°λ„·(λ¨νμ„ ) μ‚¬μ© κ°€μ΅±μ΄ μ‹ κ· μ¥μ†μ— μ¶”κ°€ μΈν„°λ„·(μνμ„ ) μ„¤μΉ μ‹.</li>
                        <li>100M μνμ„ : 5,500μ› ν• μΈ.</li>
                        <li>500M μ΄μƒ μνμ„ : 11,000μ› ν• μΈ.</li>
                        <li>κ°ν†µ ν›„ 1κ°μ›” λ‚΄ κ²°ν•©.</li>
                    </ul>
                </div>
                 <div id="separateFamilyDetailsContainer" class="mt-3 hidden discount-details">
                    <p class="font-semibold mb-1">λ”°λ΅ μ‚΄μ•„λ„ κ°€μ΅±κ²°ν•© μƒμ„Έ (μƒλ‹΄μ› μ°Έκ³ μ©):</p>
                    <p>μΈν„°λ„· ν• μΈ (μ¶”κ°€ νμ„ ): <span id="detailSfInternetDiscount" class="font-bold">0</span>μ›</p>
                    <p>TV ν• μΈ (μ°Έκ³ μ©, μ¶”κ°€ νμ„ ): <span id="detailSfTvDiscount" class="font-bold">0</span>μ›</p>
                    <p>λ¨λ°”μΌ μ¶”κ°€ ν• μΈ (μ°Έκ³ μ©): κ°€λ¥μ„± μμ (μ΄μ•΅κ²°ν•© κΈ°λ°)</p>
                    <hr class="my-2 border-sky-300">
                     <p class="text-xs mt-2 mb-1 text-sky-700 font-semibold">μ£Όμ” μ°Έκ³ μ‚¬ν•­:</p>
                    <ul class="list-disc list-inside text-xs space-y-0.5">
                        <li>λ°©μ‹: λ¨νμ„ μ΄ μ΄μ•΅ κ²°ν•© μ¤‘μΌ λ•, μ¶”κ°€ μΈν„°λ„· νμ„ μ— μ μ© (μ΄μ•΅ κ²°ν•©μ— μ¶”κ°€).</li>
                        <li>100M μΈν„°λ„·: μΈν„°λ„·/TV ν• μΈ μ—†μ.</li>
                        <li>500M μΈν„°λ„·: μΈν„°λ„· 2,200μ› ν• μΈ, TV 2,200μ› ν• μΈ (TV ν• μΈμ€ μ°Έκ³ μ©).</li>
                        <li>1G μΈν„°λ„·: μΈν„°λ„· 3,300μ› ν• μΈ, TV 3,300μ› ν• μΈ (TV ν• μΈμ€ μ°Έκ³ μ©).</li>
                        <li>μ΅°κ±΄: λ² μ΄μ¤ νμ„ (λ¨νμ„ ) μΈ1+λ¨1 μ§€μ • ν•„μ. λ² μ΄μ¤ νμ„  μ μ™Έ μΈν„°λ„· μµλ€ 5κ°κΉμ§€ κ²°ν•© κ°€λ¥.</li>
                        <li>κ°€μ… λ€μƒ: 25λ…„ 3μ›” μ΄ν›„ μΈν„°λ„· μ‹ κ· κ°€μ…μ (κΈ°μ΅΄ κ°€μ…μλ” μ•½μ • μΆ…λ£ ν›„ μ¬μ•½μ • μ‹).</li>
                        <li>μ¤‘λ³µ λ¶κ°€: ν¨λ°€λ¦¬ μνμ„ μ€ μ¤‘λ³µ μ μ© λ¶κ°€.</li>
                        <li>μ‹ μ²­: μ„ κ²° λλ” κ°ν†µ ν›„ μµμ›” λ§κΉμ§€ κ°€λ¥. μ„λ¥ ν•„μ”.</li>
                    </ul>
                </div>
                <div id="mvnoDetailsContainer" class="mt-3 hidden discount-details">
                    <p class="font-semibold mb-1">μ•λ°ν° κ²°ν•© μƒμ„Έ (μƒλ‹΄μ› μ°Έκ³ μ©):</p>
                    <p>μΈν„°λ„· ν• μΈ: <span id="detailMvnoInternetDiscount" class="font-bold">0</span>μ›</p>
                    <hr class="my-2 border-sky-300">
                    <p class="text-xs mt-2 mb-1 text-sky-700 font-semibold">μ£Όμ” μ°Έκ³ μ‚¬ν•­:</p>
                    <ul class="list-disc list-inside text-xs space-y-0.5">
                        <li>100Mbps μΈν„°λ„·: 3,300μ› ν• μΈ.</li>
                        <li>500Mbps ~ 1Gbps μΈν„°λ„·: 5,500μ› ν• μΈ.</li>
                        <li>κ°μΈμ‚¬μ—…μ / λ²•μΈμ‚¬μ—…μ κ²°ν•© λ¶κ°€.</li>
                        <li>κ²°ν•© κ°€λ¥ μ•λ°ν° ν†µμ‹ μ‚¬: KT Mλ¨λ°”μΌ, λ―Έλ‹κ²μ΄νΈ(μ‰μ΄ν¬λ¨λ°”μΌ), μ λ‹μ»΄μ¦(λ¨λΉ™), ν† μ¤λ¨λ°”μΌ, κµ­λ―Όμ€ν–‰(λ¦¬λΈλ¨λ°”μΌ), λ”ν”Όμ—”μ—(νΌμ¤νΈλ¨λ°”μΌ), μ—λ¥΄μ—(μ¤νμ¤λ„·λ¨λ°”μΌ), κ³ κ³ ν©ν† λ¦¬, μ¤λ§ν…”, μ¤μΉ΄μ΄λΌμ΄ν”„, μ½”λ“λ¨λ°”μΌ, ν”„λ¦¬ν‹°, λ‹μ¤λΌμ½”λ¦¬μ•„, μ¤ν”ΌμΈ λ¨λ°”μΌ, μ•„μ΄μ¦λΉ„μ „ λ“±.</li>
                        <li>μΈν„°λ„· μ„¤μΉ ν›„ μ•λ° ν†µμ‹ μ‚¬μ— κ²°ν•© μ”μ²­ ν•„μ”.</li>
                        <li>μ•λ°ν° ν†µμ‹ μ‚¬ λ³€κ²½ μ‹ κ²°ν•© ν•΄μ§€ ν›„ μ¬κ²°ν•© λ¶κ°€.</li>
                    </ul>
                </div>
            </div>
        </section>
        
        <section id="displayModeSectionKt" class="mb-8">
            <h2 class="section-title">κ²°μ κΈμ•΅ ν‘μ‹ λ°©μ‹ μ„ νƒ</h2>
            <div class="bg-white p-6 rounded-lg shadow">
                <label class="radio-label">
                    <input type="radio" name="displayModeKt" value="preApplied" class="radio-input" checked>
                    μ„ κ²°ν•© κΈ°μ¤€ (ν• μΈμ΄ μ μ©λ μµμΆ… μ›” λ‚©λ¶€μ•΅)
                </label>
                <label class="radio-label">
                    <input type="radio" name="displayModeKt" value="postApplied" class="radio-input">
                    ν›„κ²°ν•© κΈ°μ¤€ (ν• μΈμ΄ μ μ©λκΈ° μ „ μ΄ μ„λΉ„μ¤ μ›” κΈ°λ³Έλ£)
                </label>
            </div>
        </section>

        <section id="installationSection" class="mb-8">
            <h2 class="section-title">3. μ„¤μΉ μµμ…</h2>
            <div class="input-group bg-white p-6 rounded-lg shadow">
                <label class="input-label">μ„¤μΉ ν¬λ§ μ‹μ  (μ„¤μΉλΉ„ λ³€λ™)</label>
                <div class="space-y-2">
                    <label class="radio-label"><input type="radio" name="installationTime" value="weekday" class="radio-input" checked> ν‰μΌ μ£Όκ°„</label>
                    <label class="radio-label"><input type="radio" name="installationTime" value="weekend" class="radio-input"> μ£Όλ§/μ•Όκ°„ (ν• μ¦ μ μ©)</label>
                </div>
            </div>
        </section>

        <div class="text-center mb-8">
            <button id="calculateButton" class="btn-primary text-lg">μμƒ μ”κΈ κ³„μ‚°ν•κΈ°</button>
        </div>

        <section id="resultSection" class="hidden">
            <h2 class="section-title">π“ κ³„μ‚° κ²°κ³Ό</h2>
            
            <div class="result-card">
                <h3 class="text-xl font-semibold text-sky-600 mb-3">μ”κΈ μ”μ•½ (VAT ν¬ν•¨)</h3>
                <div class="grid md:grid-cols-2 gap-4">
                    <div>
                        <p class="result-label summary-item">μ„ νƒ μΈν„°λ„·: <span id="selectedInternet" class="result-value"></span></p>
                        <p class="result-label summary-item">μ„ νƒ TV (1λ²μ§Έ): <span id="selectedTv" class="result-value"></span></p>
                        <p class="result-label summary-item">μ„ νƒ μ…‹ν†±λ°•μ¤ (1λ²μ§Έ TV): <span id="selectedStb" class="result-value"></span></p>
                        <p class="result-label summary-item">μ„ νƒ μ¶”κ°€ TV (2λ²μ§Έ): <span id="selectedAdditionalTv" class="result-value"></span></p>
                        <p class="result-label summary-item">μ„ νƒ μ§‘μ „ν™”: <span id="selectedPhone" class="result-value"></span></p>
                        <p class="result-label summary-item">λ¨λ°”μΌ νμ„  μ: <span id="selectedMobileCount" class="result-value"></span></p>
                        <p class="result-label summary-item">μ μ© ν• μΈ μ ν•: <span id="selectedDiscountType" class="result-value"></span></p>
                    </div>
                    <div>
                        <p class="result-label summary-item">μ›” μΈν„°λ„· κΈ°λ³Έλ£: <span id="totalBaseInternetCost" class="result-value">0</span> μ›</p>
                        <p class="result-label text-green-600 summary-item">μ›” μΈν„°λ„· κ²°ν•© ν• μΈμ•΅: <span id="totalInternetDiscountAmount" class="result-value text-green-600">0</span> μ›</p>
                        <p class="result-label summary-item">μ›” λ¨λ€ μ„λ€λ£: <span id="internetModemRental" class="result-value">0</span> μ›</p>
                        <p class="result-label summary-item">μ›” μ™€μ΄νμ΄ κ³µμ κΈ° μ„λ€λ£: <span id="wifiRouterRentalCostDisplay" class="result-value">0</span> μ›</p>
                        
                        <div id="tvCostSummaryContainer" class="hidden"> 
                             <hr class="my-1 border-slate-200">
                            <p class="result-label summary-item">μ›” TV κΈ°λ³Έλ£ (1λ²μ§Έ): <span id="tvBaseCostDisplay" class="result-value">0</span> μ›</p>
                            <p class="result-label text-green-600 summary-item">μ›” TV κ²°ν•© ν• μΈμ•΅ (1λ²μ§Έ): <span id="tvDiscountDisplay" class="result-value text-green-600">0</span> μ›</p>
                            <p class="result-label summary-item">μ›” TV μ…‹ν†±λ°•μ¤ μ„λ€λ£ (1λ²μ§Έ): <span id="stbRentalCostDisplay" class="result-value">0</span> μ›</p>
                        </div>
                         <div id="additionalTvCostSummaryContainer" class="hidden">
                             <hr class="my-1 border-slate-200">
                            <p class="result-label summary-item">μ›” μ¶”κ°€ TV μ”κΈ (2λ²μ§Έ, μ…‹ν†±ν¬ν•¨): <span id="additionalTvCostDisplay" class="result-value">0</span> μ›</p>
                        </div>
                        <div id="phoneCostSummaryContainer" class="hidden">
                             <hr class="my-1 border-slate-200">
                            <p class="result-label summary-item">μ›” μ§‘μ „ν™” κΈ°λ³Έλ£: <span id="phoneBaseCostDisplay" class="result-value">0</span> μ›</p>
                            <p class="result-label text-green-600 summary-item">μ›” μ§‘μ „ν™” κ²°ν•© ν• μΈμ•΅: <span id="phoneDiscountDisplay" class="result-value text-green-600">0</span> μ›</p>
                        </div>
                        <hr class="my-1 border-sky-300">
                        <p class="mt-2 text-lg font-semibold"><span id="finalCostLabel">μµμΆ… μμƒ μ›” λ‚©λ¶€μ•΅</span>: <span id="finalMonthlyCost" class="total-value">0</span> μ›</p>
                    </div>
                </div>
            </div>

            <div class="result-card">
                <h3 class="text-xl font-semibold text-sky-600 mb-3">π μ‚¬μ€ν’ ννƒ (μμƒ)</h3>
                <p class="result-label summary-item">ν„κΈ μ‚¬μ€ν’ (κΈ°λ³Έ): <span id="giftCash" class="result-value">0</span> μ›</p>
                <p class="result-label summary-item">μƒν’κ¶ μ‚¬μ€ν’ (κΈ°λ³Έ): <span id="giftVoucher" class="result-value">0</span> μ›</p>
                <p class="result-label summary-item">μΌλ°μ „ν™” μ¶”κ°€ μƒν’κ¶: <span id="giftPhoneVoucher" class="result-value">0</span> μ›</p>
                <p class="result-label summary-item">μ¶”κ°€ TV μ‚¬μ€ν’ (ν„κΈ): <span id="giftAdditionalTv" class="result-value">0</span> μ›</p>
                <p class="result-label summary-item hidden" id="dongpanCashContainerKt">λ™ν μ¶”κ°€ ν„κΈ μ‚¬μ€ν’ (KT): <span id="giftDongpanAdditionalCashKt" class="result-value">0</span> μ›</p>
                <hr class="my-1">
                <p class="result-label summary-item font-semibold">μ΄ μ‚¬μ€ν’ κ°€μΉ: <span id="giftTotal" class="result-value text-green-600">0</span> μ›</p>
                <p class="text-xs text-slate-500 mt-2">β… KT μΌλ°μ „ν™” μƒν’κ¶ μ§€λ¥ 2λ§μ› μ¶”κ°€ / μ¶”κ°€μ…‹ν†± 3λ§μ› (μ°Έκ³ )</p>
                <p class="text-xs text-slate-500 mt-1">β… KT λ΅―λ° / LG μ‹ μ„Έκ³„ λ¨λ°”μΌ μƒν’κ¶μ€ ν„κΈ κµν™ κ°€λ¥ (μ°Έκ³ )</p>
                <p class="text-xs text-red-500 mt-1">* μ‚¬μ€ν’ μ •λ³΄λ” λ³€λ™λ  μ μμΌλ‹ κ°€μ… μ‹μ μ— λ°λ“μ‹ μ¬ν™•μΈ λ°”λλ‹λ‹¤.</p>
            </div>

            <div class="result-card">
                <h3 class="text-xl font-semibold text-sky-600 mb-3">μ΄κΈ° μ„¤μΉ λΉ„μ© (μ„ νƒν• λ¨λ“  μ μ„  μ„λΉ„μ¤ κΈ°μ¤€)</h3>
                <p class="result-label">μμƒ μ΄ μ„¤μΉλΉ„: <span id="installationCostResult" class="result-value text-lg">0</span> μ›</p>
                <p class="text-xs text-slate-500 mt-1">* μ„ νƒν•μ‹  μ„¤μΉ μ‹μ (ν‰μΌ/μ£Όλ§) λ° μ„λΉ„μ¤ μ΅°ν•©μ— λ”°λΌ κ³„μ‚°λ©λ‹λ‹¤. ν”„λ΅λ¨μ…μΌλ΅ λ©΄μ λ  μ μμµλ‹λ‹¤.</p>
            </div>
            
             <div class="result-card mt-6">
                <h3 class="text-xl font-semibold text-sky-600 mb-2">μ¶”κ°€ μ•λ‚΄μ‚¬ν•­</h3>
                <ul class="list-disc list-inside text-sm text-slate-600 space-y-1">
                    <li>λ³Έ κ³„μ‚°κΈ°λ” μ κ³µλ KT κ²°ν•©μƒν’ μ •λ³΄λ¥Ό λ°”νƒ•μΌλ΅ ν• μ¶”μ •μΉμ…λ‹λ‹¤.</li>
                    <li>**"μΈν„°λ„·+μΈν„°λ„· ν¨λ°€λ¦¬ κ²°ν•©"** λ° **"λ”°λ΅ μ‚΄μ•„λ„ κ°€μ΅±κ²°ν•©"**μ€ ν„μ¬ κ³„μ‚°κΈ°μ—μ„ 'μ¶”κ°€ νμ„ (μνμ„ )' κΈ°μ¤€μΌλ΅ ν• μΈμ•΅μ„ λ³΄μ—¬μ¤λ‹λ‹¤. λ¨νμ„  μ΅°κ±΄ λ° κΈ°νƒ€ λ³µμ΅ν• λ‹¤νμ„  ν• μΈμ€ ν„μ¬ κ³„μ‚°κΈ° κµ¬μ΅°μƒ λ¨λ‘ λ°μλμ§€ μ•μ•μµλ‹λ‹¤. μ΄λ¬ν• μ ν•μ ν• μΈμ€ λ³„λ„ λ¬Έμκ°€ ν•„μ”ν•©λ‹λ‹¤.</li>
                    <li>μ‹¤μ  μ”κΈμ€ KTμ μµμ‹  μ •μ±…, κ°€μ… μ‹μ μ ν”„λ΅λ¨μ…, μ¶”κ°€ μ„ νƒ μ‚¬ν•­μ— λ”°λΌ λ‹¬λΌμ§ μ μμµλ‹λ‹¤.</li>
                    <li>μ•½μ • κΈ°κ°„ λ‚΄ ν•΄μ§€ μ‹ μ„μ•½κΈμ΄ λ°μƒν•  μ μμµλ‹λ‹¤.</li>
                    <li>λ” μ •ν™•ν• μ •λ³΄λ” KT κ³µμ‹ ν™νμ΄μ§€ λλ” κ³ κ°μ„Όν„°(κµ­λ²μ—†μ΄ 100)λ¥Ό ν†µν•΄ ν™•μΈν•μ‹κΈ° λ°”λλ‹λ‹¤.</li>
                </ul>
            </div>
        </section>
        
        <section id="messageScriptSection" class="hidden mt-12">
            <h2 class="section-title">π“„ κ³ κ° μ•λ‚΄ λ¬Έμ μ¤ν¬λ¦½νΈ (μƒλ‹΄μ› μ°Έκ³ μ©)</h2>
            <div class="result-card">
                <h3 class="text-xl font-semibold text-sky-600 mb-3">1. λ°±λ©”κ°€ μ „μ‚° λ©”λ¨</h3>
                <textarea id="memoScript" class="message-script-area" readonly></textarea>
                <div class="copy-button-container">
                    <button onclick="copyToClipboard('memoScript', 'copyFeedbackMemo')" class="btn-secondary text-xs">λ³µμ‚¬ν•κΈ°</button>
                    <span id="copyFeedbackMemo" class="copy-feedback"></span>
                </div>
            </div>
            <div class="result-card">
                <h3 class="text-xl font-semibold text-sky-600 mb-3">2. μƒν’ μ•λ‚΄ λ¬Έμ</h3>
                <textarea id="infoScript" class="message-script-area" readonly></textarea>
                 <div class="copy-button-container">
                    <button onclick="copyToClipboard('infoScript', 'copyFeedbackInfo')" class="btn-secondary text-xs">λ³µμ‚¬ν•κΈ°</button>
                    <span id="copyFeedbackInfo" class="copy-feedback"></span>
                </div>
            </div>
            <div class="result-card">
                <h3 class="text-xl font-semibold text-sky-600 mb-3">3. κ°€μ… μ™„λ£ λ¬Έμ</h3>
                <textarea id="completeScript" class="message-script-area" readonly></textarea>
                 <div class="copy-button-container">
                    <button onclick="copyToClipboard('completeScript', 'copyFeedbackComplete')" class="btn-secondary text-xs">λ³µμ‚¬ν•κΈ°</button>
                    <span id="copyFeedbackComplete" class="copy-feedback"></span>
                </div>
            </div>
             <div class="result-card">
                <h3 class="text-xl font-semibold text-sky-600 mb-3">4. λ°±λ©”κ°€ μ μ‹¬λ™ν λ©”λ¨ (μƒλ‹΄μ›μ©)</h3>
                <textarea id="dongpanMemoScript" class="message-script-area" readonly></textarea>
                <div class="copy-button-container">
                    <button onclick="copyToClipboard('dongpanMemoScript', 'copyFeedbackDongpanMemo')" class="btn-secondary text-xs">λ³µμ‚¬ν•κΈ°</button>
                    <span id="copyFeedbackDongpanMemo" class="copy-feedback"></span>
                </div>
            </div>
        </section>
    </main>

    <footer class="text-center p-6 mt-12 bg-sky-800 text-sky-200 text-sm">
        <p>λ³Έ κ³„μ‚°κΈ°λ” KT λ―Έμ†μ—μ„ μ κ³µν•©λ‹λ‹¤.</p>
        <p>&copy; 2024 KT κ²°ν•© ν• μΈ κ³„μ‚°κΈ°. λ¨λ“  μ •λ³΄λ” μ°Έκ³ μ©μ…λ‹λ‹¤.</p>
    </footer>

    <script>
        const internetPlans = { 
            "μΈν„°λ„· μ¬λ¦Ό": { basePrice: 22000, modemFee: 0, speed: 100, type: "100M" },
            "μΈν„°λ„· λ² μ΄μ§": { basePrice: 33000, modemFee: 0, speed: 500, type: "500M_1G" },
            "μΈν„°λ„· μ—μ„Όμ¤": { basePrice: 38500, modemFee: 0, speed: 1000, type: "500M_1G" },
            "μΈν„°λ„· ν”„λ¦¬λ―Έμ—„": { basePrice: 44000, modemFee: 0, speed: 2500, type: "500M_1G" },
        };

        const tvPlans = { 
            "μ§€λ‹ TV μ¬λ¦Ό": { basePrice: 11000, category: "λ² μ΄μ§" },
            "μ§€λ‹ TV λ² μ΄μ§": { basePrice: 12100, category: "λ² μ΄μ§" },
            "μ§€λ‹ TV λΌμ΄νΈ": { basePrice: 13200, category: "λΌμ΄νΈ" },
            "μ§€λ‹ TV μ—μ„Όμ¤": { basePrice: 16500, category: "μ—μ„Όμ¤" },
        };

        const additionalTvPlans = {
            "none": { basePrice: 0, name: "μ„ νƒ μ•ν•¨" },
            "λ² μ΄μ§ μ¶”κ°€": { basePrice: 10670, name: "λ² μ΄μ§ (236μ±„λ„) + κΈ°κ°€μ§€λ‹A" },
            "λΌμ΄νΈ μ¶”κ°€": { basePrice: 11220, name: "λΌμ΄νΈ (240μ±„λ„) + κΈ°κ°€μ§€λ‹A" },
            "μ—μ„Όμ¤ μ¶”κ°€": { basePrice: 13420, name: "μ—μ„Όμ¤ (266μ±„λ„) + κΈ°κ°€μ§€λ‹A" }
        };
        
        const tvStbs = { 
            "μΌλ°ν•": { rentalFee: 2200 },
            "μ…‹ν†±λ°•μ¤ A": { rentalFee: 3300 },
            "UHD": { rentalFee: 4400 },
            "μ…‹ν†±λ°•μ¤ 3": { rentalFee: 4400 },
        };

        const phonePlans = { 
            "κΈ°λ³Έμ”κΈμ ": { basePrice: 4400 },
            "μ μ„  3000": { basePrice: 6050 },
        };

        const simpleHomeBundleInternetDiscount = 5500; 

        const totalAmountDiscountsTable = { 
            "100M": [ 
                { mobileTotalMin: 0, mobileTotalMax: 21999, internetDiscount: 1650, mobileDiscountInternal: 0, totalDiscount: 1650 },
                { mobileTotalMin: 22000, mobileTotalMax: 64899, internetDiscount: 3300, mobileDiscountInternal: 0, totalDiscount: 3300 },
                { mobileTotalMin: 64900, mobileTotalMax: 108899, internetDiscount: 5500, mobileDiscountInternal: 3300, totalDiscount: 8800 },
                { mobileTotalMin: 108900, mobileTotalMax: 141899, internetDiscount: 5500, mobileDiscountInternal: 14300, totalDiscount: 19800 },
                { mobileTotalMin: 141900, mobileTotalMax: 174899, internetDiscount: 5500, mobileDiscountInternal: 18700, totalDiscount: 24200 },
                { mobileTotalMin: 174900, mobileTotalMax: Infinity, internetDiscount: 5500, mobileDiscountInternal: 23100, totalDiscount: 28600 }
            ],
            "500M_1G": [ 
                { mobileTotalMin: 0, mobileTotalMax: 21999, internetDiscount: 2200, mobileDiscountInternal: 0, totalDiscount: 2200 },
                { mobileTotalMin: 22000, mobileTotalMax: 64899, internetDiscount: 5500, mobileDiscountInternal: 0, totalDiscount: 5500 },
                { mobileTotalMin: 64900, mobileTotalMax: 108899, internetDiscount: 5500, mobileDiscountInternal: 5500, totalDiscount: 11000 },
                { mobileTotalMin: 108900, mobileTotalMax: 141899, internetDiscount: 5500, mobileDiscountInternal: 16610, totalDiscount: 22110 },
                { mobileTotalMin: 141900, mobileTotalMax: 174899, internetDiscount: 5500, mobileDiscountInternal: 22100, totalDiscount: 27610 },
                { mobileTotalMin: 174900, mobileTotalMax: Infinity, internetDiscount: 5500, mobileDiscountInternal: 27610, totalDiscount: 33110 }
            ]
        };
        
        const premiumFamilyConfig = {
            internetDiscount: 5500,
            minHighTierMobileFee: 77000,
            minHighTierLinesForPremiumFamily: 2,
            additionalHighTierMobileDiscountRate: 0.25,
        };

        const premiumSingleConfig = {
            internetDiscountIfStandalone: 5500, 
            mobileDiscountRate: 0.25, 
            minInternetSpeedForDiscount: 500,
            minMobileFeeForDiscount: 77000,
        };

        const mvnoBundleConfig = { 
            internetDiscount: {
                "100M": 3300,
                "500M_1G": 5500 
            }
        };
        
        const familyBundleConfig = { 
            internetDiscount: {
                "100M": 5500,
                "500M_1G": 11000
            }
        };
        
        const separateFamilyBundleConfig = {
            internetDiscount: { "100M": 0, "500M_1G": 2200, "1000": 3300 }, 
            tvDiscountReference: { "100M": 0, "500M_1G": 2200, "1000": 3300 } 
        };

         const giftTable = {
            "λ² μ΄μ§": { 
                "100λ‹¨λ…": { cash: 50000, voucher: 40000 }, "500λ‹¨λ…": { cash: 100000, voucher: 40000 }, "1Gλ‹¨λ…": { cash: 90000, voucher: 50000 },
                "100λ²λ“¤": { cash: 310000, voucher: 60000 }, "500λ²λ“¤": { cash: 390000, voucher: 60000 }, "κΈ°κ°€λ²λ“¤": { cash: 360000, voucher: 90000 }
            },
            "λΌμ΄νΈ": {
                "100λ‹¨λ…": { cash: 50000, voucher: 40000 }, "500λ‹¨λ…": { cash: 100000, voucher: 40000 }, "1Gλ‹¨λ…": { cash: 90000, voucher: 50000 },
                "100λ²λ“¤": { cash: 310000, voucher: 60000 }, "500λ²λ“¤": { cash: 380000, voucher: 70000 }, "κΈ°κ°€λ²λ“¤": { cash: 350000, voucher: 100000 }
            },
            "μ—μ„Όμ¤": { 
                "100λ‹¨λ…": { cash: 50000, voucher: 40000 }, "500λ‹¨λ…": { cash: 100000, voucher: 40000 }, "1Gλ‹¨λ…": { cash: 90000, voucher: 50000 },
                "100λ²λ“¤": { cash: 310000, voucher: 60000 }, "500λ²λ“¤": { cash: 420000, voucher: 30000 }, "κΈ°κ°€λ²λ“¤": { cash: 320000, voucher: 30000 }
            }
        };
        
        const dongpanAdditionalGiftTable_KT = { // KTμ© λ™ν μ¶”κ°€ μ‚¬μ€ν’
            "37K": { 
                "100M_λ‹¨λ…": 150000, "500M_λ‹¨λ…": 160000, "1G_λ‹¨λ…": 170000,
                "100M_TVλ²λ“¤": 200000, "500M_TVλ²λ“¤": 220000, "1G_TVλ²λ“¤": 240000
            },
            "61K": { 
                "100M_λ‹¨λ…": 270000, "500M_λ‹¨λ…": 280000, "1G_λ‹¨λ…": 290000,
                "100M_TVλ²λ“¤": 320000, "500M_TVλ²λ“¤": 340000, "1G_TVλ²λ“¤": 360000
            },
            "90K": { 
                "100M_λ‹¨λ…": 310000, "500M_λ‹¨λ…": 320000, "1G_λ‹¨λ…": 330000,
                "100M_TVλ²λ“¤": 360000, "500M_TVλ²λ“¤": 380000, "1G_TVλ²λ“¤": 400000
            }
        };


        const wifiRouterBaseFee = 1100;

        const installationFees = { 
            internet_only: { weekday: 36000, weekend: 45000 },
            tv_only: { weekday: 34100, weekend: 42625 },
            phone_only: { weekday: 27500, weekend: 34375 }, 
            internet_tv: { weekday: 56200, weekend: 71250 }, 
            internet_phone: { weekday: 36000, weekend: 45000}, 
            tv_phone: { weekday: (34100 + 27500), weekend: (42625 + 34375) },
            internet_tv_phone: { weekday: 56200, weekend: 71250 },
            internet_tv_addTv: { weekday: 71600, weekend: 90500 } 
        };

        const internetPlanEl = document.getElementById('internetPlan');
        const wifiRouterRentalEl = document.getElementById('wifiRouterRental');
        const tvPlanEl = document.getElementById('tvPlan');
        const tvStbEl = document.getElementById('tvStb');
        const additionalTvPlanEl = document.getElementById('additionalTvPlan');
        const phonePlanEl = document.getElementById('phonePlan');
        const mobileLinesCountEl = document.getElementById('mobileLinesCount');
        const mobileLinesContainerEl = document.getElementById('mobileLinesContainer');
        const dongpanSalesCheckKtEl = document.getElementById('dongpanSalesCheckKt');
        const dongpanPolicyDetailsContainerKtEl = document.getElementById('dongpanPolicyDetailsContainerKt');
        const discountTypeRadios = document.querySelectorAll('input[name="discountType"]');
        const displayModeKtRadios = document.querySelectorAll('input[name="displayModeKt"]');
        
        const homeBundleDetailsToggleEl = document.getElementById('homeBundleDetailsToggle');
        const homeBundleDetailsContainerEl = document.getElementById('homeBundleDetailsContainer');
        const detailHbInternetDiscountEl = document.getElementById('detailHbInternetDiscount');

        const totalAmountDetailsToggleEl = document.getElementById('totalAmountDetailsToggle');
        const totalAmountDetailsContainerEl = document.getElementById('totalAmountDetailsContainer');
        const detailInternetDiscountEl = document.getElementById('detailInternetDiscount');
        const detailMobileDiscountEl = document.getElementById('detailMobileDiscount');
        const detailTotalDiscountEl = document.getElementById('detailTotalDiscount');

        const premiumFamilyDetailsToggleEl = document.getElementById('premiumFamilyDetailsToggle');
        const premiumFamilyDetailsContainerEl = document.getElementById('premiumFamilyDetailsContainer');
        const detailPfInternetDiscountEl = document.getElementById('detailPfInternetDiscount');

        const premiumSingleDetailsToggleEl = document.getElementById('premiumSingleDetailsToggle');
        const premiumSingleDetailsContainerEl = document.getElementById('premiumSingleDetailsContainer');
        const detailPsInternetDiscountEl = document.getElementById('detailPsInternetDiscount');

        const familyBundleDetailsToggleEl = document.getElementById('familyBundleDetailsToggle');
        const familyBundleDetailsContainerEl = document.getElementById('familyBundleDetailsContainer');
        const detailFbInternetDiscountEl = document.getElementById('detailFbInternetDiscount');
        
        const separateFamilyDetailsToggleEl = document.getElementById('separateFamilyDetailsToggle');
        const separateFamilyDetailsContainerEl = document.getElementById('separateFamilyDetailsContainer');
        const detailSfInternetDiscountEl = document.getElementById('detailSfInternetDiscount');
        const detailSfTvDiscountEl = document.getElementById('detailSfTvDiscount');

        const mvnoDetailsToggleEl = document.getElementById('mvnoDetailsToggle'); 
        const mvnoDetailsContainerEl = document.getElementById('mvnoDetailsContainer'); 
        const detailMvnoInternetDiscountEl = document.getElementById('detailMvnoInternetDiscount'); 

        const calculateButton = document.getElementById('calculateButton');
        const resultSection = document.getElementById('resultSection');
        
        const selectedInternetEl = document.getElementById('selectedInternet');
        const selectedTvEl = document.getElementById('selectedTv');
        const selectedStbEl = document.getElementById('selectedStb');
        const selectedAdditionalTvEl = document.getElementById('selectedAdditionalTv');
        const selectedPhoneEl = document.getElementById('selectedPhone');
        const selectedMobileCountEl = document.getElementById('selectedMobileCount');
        const selectedDiscountTypeEl = document.getElementById('selectedDiscountType');
        
        const totalBaseInternetCostEl = document.getElementById('totalBaseInternetCost');
        const totalInternetDiscountAmountEl = document.getElementById('totalInternetDiscountAmount');
        const internetModemRentalEl = document.getElementById('internetModemRental');
        const wifiRouterRentalCostDisplayEl = document.getElementById('wifiRouterRentalCostDisplay');
        
        const tvCostSummaryContainerEl = document.getElementById('tvCostSummaryContainer');
        const tvBaseCostDisplayEl = document.getElementById('tvBaseCostDisplay');
        const tvDiscountDisplayEl = document.getElementById('tvDiscountDisplay');
        const stbRentalCostDisplayEl = document.getElementById('stbRentalCostDisplay');

        const additionalTvCostSummaryContainerEl = document.getElementById('additionalTvCostSummaryContainer');
        const additionalTvCostDisplayEl = document.getElementById('additionalTvCostDisplay');

        const phoneCostSummaryContainerEl = document.getElementById('phoneCostSummaryContainer');
        const phoneBaseCostDisplayEl = document.getElementById('phoneBaseCostDisplay');
        const phoneDiscountDisplayEl = document.getElementById('phoneDiscountDisplay');

        const finalMonthlyCostEl = document.getElementById('finalMonthlyCost');
        const finalCostLabelEl = document.getElementById('finalCostLabel');
        const installationCostResultEl = document.getElementById('installationCostResult');

        const giftCashEl = document.getElementById('giftCash');
        const giftVoucherEl = document.getElementById('giftVoucher');
        const giftPhoneVoucherEl = document.getElementById('giftPhoneVoucher');
        const giftAdditionalTvEl = document.getElementById('giftAdditionalTv');
        const dongpanCashContainerKtEl = document.getElementById('dongpanCashContainerKt');
        const giftDongpanAdditionalCashKtEl = document.getElementById('giftDongpanAdditionalCashKt');
        const giftTotalEl = document.getElementById('giftTotal');

        const messageScriptSectionEl = document.getElementById('messageScriptSection');
        const memoScriptEl = document.getElementById('memoScript');
        const infoScriptEl = document.getElementById('infoScript');
        const completeScriptEl = document.getElementById('completeScript');
        const dongpanMemoScriptEl = document.getElementById('dongpanMemoScript');


        mobileLinesCountEl.addEventListener('input', updateMobileLinesInputs);
        calculateButton.addEventListener('click', calculateAndDisplayResults);
        if(dongpanSalesCheckKtEl) {
            dongpanSalesCheckKtEl.addEventListener('change', function() {
                dongpanPolicyDetailsContainerKtEl.classList.toggle('hidden', !this.checked);
                 if (!resultSection.classList.contains('hidden')) { 
                    calculateAndDisplayResults(); 
                }
            });
        }
        
        const allDetailSections = [
            { radioValue: 'homeBundle', toggleEl: homeBundleDetailsToggleEl, containerEl: homeBundleDetailsContainerEl, updateFn: updateHomeBundleDetails },
            { radioValue: 'totalAmountBundle', toggleEl: totalAmountDetailsToggleEl, containerEl: totalAmountDetailsContainerEl, updateFn: updateTotalAmountDetails },
            { radioValue: 'premiumFamilyBundle', toggleEl: premiumFamilyDetailsToggleEl, containerEl: premiumFamilyDetailsContainerEl, updateFn: updatePremiumFamilyDetails },
            { radioValue: 'premiumSingleBundle', toggleEl: premiumSingleDetailsToggleEl, containerEl: premiumSingleDetailsContainerEl, updateFn: updatePremiumSingleDetails },
            { radioValue: 'familyBundle', toggleEl: familyBundleDetailsToggleEl, containerEl: familyBundleDetailsContainerEl, updateFn: updateFamilyBundleDetails },
            { radioValue: 'separateFamilyBundle', toggleEl: separateFamilyDetailsToggleEl, containerEl: separateFamilyDetailsContainerEl, updateFn: updateSeparateFamilyDetails },
            { radioValue: 'mvnoBundle', toggleEl: mvnoDetailsToggleEl, containerEl: mvnoDetailsContainerEl, updateFn: updateMvnoDetails } 
        ];

        discountTypeRadios.forEach(radio => {
            radio.addEventListener('change', function() {
                const newlySelectedRadioValue = this.value;
                allDetailSections.forEach(section => {
                    if (section.containerEl) {
                        let isVisible = false;
                        if (newlySelectedRadioValue === section.radioValue) { 
                            if (section.toggleEl) { 
                                isVisible = section.toggleEl.checked; 
                                if (isVisible && section.updateFn) {
                                    section.updateFn();
                                }
                            }
                        } else { 
                            if(section.toggleEl) section.toggleEl.checked = false; 
                            isVisible = false; 
                        }
                        section.containerEl.classList.toggle('hidden', !isVisible);
                    }
                });
            });
        });
        
        allDetailSections.forEach(section => {
            if (section.toggleEl) {
                section.toggleEl.addEventListener('change', function() {
                    const isSelectedRadio = document.querySelector(`input[name="discountType"][value="${section.radioValue}"]`).checked;
                    if (isSelectedRadio) { 
                        section.containerEl.classList.toggle('hidden', !this.checked);
                        if (this.checked && section.updateFn) {
                            section.updateFn();
                        }
                    }
                });
            }
        });


        tvPlanEl.addEventListener('change', () => { 
            if (tvPlanEl.value === 'none') {
                tvStbEl.value = 'none';
                additionalTvPlanEl.value = 'none'; 
            } else if (tvStbEl.value === 'none' && tvPlanEl.value !== 'none') { 
                 tvStbEl.value = 'UHD';
            }
        });

        additionalTvPlanEl.addEventListener('change', () => {
            if (tvPlanEl.value === 'none' && additionalTvPlanEl.value !== 'none') {
                alert('μ²« λ²μ§Έ TVλ¥Ό λ¨Όμ € μ„ νƒν•΄μ£Όμ„Έμ”.');
                additionalTvPlanEl.value = 'none';
            }
        });


        function updateMobileLinesInputs() {
            const count = parseInt(mobileLinesCountEl.value) || 0;
            mobileLinesContainerEl.innerHTML = '';
            for (let i = 0; i < count; i++) {
                const div = document.createElement('div');
                div.className = 'mobile-line-item grid grid-cols-1 md:grid-cols-2 gap-4 items-center';
                div.innerHTML = `
                    <div>
                        <label for="mobileCost${i}" class="block text-sm font-medium text-slate-600">νμ„  ${i + 1} μ›”μ •μ•΅ (VATν¬ν•¨, ν• μΈ μ „)</label>
                        <input type="number" id="mobileCost${i}" class="input-field mt-1" placeholder="μ: 80000" value="0">
                    </div>
                    <div>
                        <label class="flex items-center mt-1 md:mt-5">
                            <input type="checkbox" id="mobileHighTier${i}" class="radio-input h-4 w-4">
                            <span class="ml-2 text-sm text-slate-600">μ›” 7.7λ§μ› μ΄μƒ 5G/LTE (ν”„λ¦¬λ―Έμ—„ κ°€μ΅±/μ‹±κΈ€κ²°ν•©μ©)</span>
                        </label>
                    </div>
                `;
                mobileLinesContainerEl.appendChild(div);
            }
        }
        
        function getSelectedInternetInfo(planName) {
            if (!planName || planName === 'none' || !internetPlans[planName]) return { basePrice: 0, modemFee: 0, type: "none", speed: 0 };
            return internetPlans[planName];
        }
        
        function updateHomeBundleDetails() {
            let internetDiscount = 0;
             if (internetPlanEl.value !== 'none' && (tvPlanEl.value !== 'none' || phonePlanEl.value !== 'none')) {
                internetDiscount = simpleHomeBundleInternetDiscount;
             }
            if (detailHbInternetDiscountEl) detailHbInternetDiscountEl.textContent = internetDiscount.toLocaleString();
        }

        function updateTotalAmountDetails() {
            const internetPlanName = internetPlanEl.value;
            const numMobileLines = parseInt(mobileLinesCountEl.value) || 0;
            let totalMobileBaseCost = 0;
            for (let i = 0; i < numMobileLines; i++) {
                totalMobileBaseCost += parseInt(document.getElementById(`mobileCost${i}`).value) || 0;
            }
            
            let detailInternetD = 0;
            let detailMobileD = 0;
            let detailTotalD = 0;

            if (internetPlanName !== 'none') {
                const currentInternet = getSelectedInternetInfo(internetPlanName);
                const internetTypeKey = currentInternet.type;
                if (internetTypeKey && totalAmountDiscountsTable[internetTypeKey]) {
                    for (const tier of totalAmountDiscountsTable[internetTypeKey]) {
                        if (totalMobileBaseCost >= tier.mobileTotalMin && totalMobileBaseCost <= tier.mobileTotalMax) {
                            detailInternetD = tier.internetDiscount;
                            detailMobileD = tier.mobileDiscountInternal;
                            detailTotalD = tier.totalDiscount; 
                            break;
                        }
                    }
                }
            }
            detailInternetDiscountEl.textContent = detailInternetD.toLocaleString();
            detailMobileDiscountEl.textContent = detailMobileD.toLocaleString();
            detailTotalDiscountEl.textContent = detailTotalD.toLocaleString();
        }
        
        function updatePremiumFamilyDetails() {
            const internetDiscount = premiumFamilyConfig.internetDiscount;
            detailPfInternetDiscountEl.textContent = internetDiscount.toLocaleString();
        }

        function updatePremiumSingleDetails() {
            const internetPlanName = internetPlanEl.value;
            const tvPlanName = tvPlanEl.value;
            const phonePlanName = phonePlanEl.value;
            const isInternetOnlyBundle = (tvPlanName === 'none' && phonePlanName === 'none');
            let internetDiscount = 0;
            if (internetPlanName !== 'none') {
                const currentInternet = getSelectedInternetInfo(internetPlanName);
                 if (currentInternet.speed >= premiumSingleConfig.minInternetSpeedForDiscount && isInternetOnlyBundle) { 
                    const numMobileLines = parseInt(mobileLinesCountEl.value) || 0;
                    if (numMobileLines === 1) {
                        const mobileCost = parseInt(document.getElementById('mobileCost0').value) || 0;
                        const isHighTier = document.getElementById('mobileHighTier0').checked;
                        if (isHighTier && mobileCost >= premiumSingleConfig.minMobileFeeForDiscount) {
                           internetDiscount = premiumSingleConfig.internetDiscountIfStandalone;
                        }
                    }
                }
            }
            detailPsInternetDiscountEl.textContent = internetDiscount.toLocaleString();
        }

        function updateFamilyBundleDetails() {
            const internetPlanName = internetPlanEl.value;
            let internetDiscount = 0;
            if (internetPlanName !== 'none') {
                const currentInternet = getSelectedInternetInfo(internetPlanName);
                const internetTypeKey = currentInternet.type;
                if (familyBundleConfig.internetDiscount[internetTypeKey]) {
                    internetDiscount = familyBundleConfig.internetDiscount[internetTypeKey];
                }
            }
            detailFbInternetDiscountEl.textContent = internetDiscount.toLocaleString();
        }
        
        function updateSeparateFamilyDetails() {
            const internetPlanName = internetPlanEl.value;
            let internetDiscount = 0;
            let tvDiscountRef = 0;
            if (internetPlanName !== 'none') {
                const currentInternet = getSelectedInternetInfo(internetPlanName);
                const speed = currentInternet.speed;
                if (speed === 100) {
                    internetDiscount = separateFamilyBundleConfig.internetDiscount["100M"];
                    tvDiscountRef = separateFamilyBundleConfig.tvDiscountReference["100M"];
                } else if (speed === 500) {
                    internetDiscount = separateFamilyBundleConfig.internetDiscount["500M_1G"]; 
                    tvDiscountRef = separateFamilyBundleConfig.tvDiscountReference["500M_1G"];
                } else if (speed >= 1000) { 
                    internetDiscount = separateFamilyBundleConfig.internetDiscount["1000"];
                    tvDiscountRef = separateFamilyBundleConfig.tvDiscountReference["1000"];
                }
            }
            detailSfInternetDiscountEl.textContent = internetDiscount.toLocaleString();
            detailSfTvDiscountEl.textContent = tvDiscountRef.toLocaleString();
        }

        function updateMvnoDetails() {
            const internetPlanName = internetPlanEl.value;
            let internetDiscount = 0;
            if (internetPlanName !== 'none') {
                const currentInternet = getSelectedInternetInfo(internetPlanName);
                const internetTypeKey = currentInternet.type;
                if (mvnoBundleConfig.internetDiscount[internetTypeKey]) {
                    internetDiscount = mvnoBundleConfig.internetDiscount[internetTypeKey];
                }
            }
            detailMvnoInternetDiscountEl.textContent = internetDiscount.toLocaleString();
        }


        function calculateAndDisplayResults() {
            const internetPlanName = internetPlanEl.value;
            const wantsWifiRouter = wifiRouterRentalEl.checked;
            const tvPlanName = tvPlanEl.value;
            const tvStbName = tvStbEl.value;
            const additionalTvPlanKey = additionalTvPlanEl.value;
            const phonePlanName = phonePlanEl.value;
            const numMobileLines = parseInt(mobileLinesCountEl.value) || 0;
            const isDongpanChecked = dongpanSalesCheckKtEl ? dongpanSalesCheckKtEl.checked : false;
            const discountType = document.querySelector('input[name="discountType"]:checked').value;
            const displayMode = document.querySelector('input[name="displayModeKt"]:checked').value;
            const installationTime = document.querySelector('input[name="installationTime"]:checked').value;

            let mobileLinesData = [];
            let totalMobileBaseCost = 0;
            let highTierMobileLinesCount = 0;
            
            for (let i = 0; i < numMobileLines; i++) {
                const cost = parseInt(document.getElementById(`mobileCost${i}`).value) || 0;
                const isHighTier = document.getElementById(`mobileHighTier${i}`).checked;
                mobileLinesData.push({ cost: cost, isHighTier: isHighTier });
                totalMobileBaseCost += cost;
                if (isHighTier) {
                    highTierMobileLinesCount++;
                }
            }

            let currentInternet = getSelectedInternetInfo(internetPlanName);
            let internetBase = currentInternet.basePrice;
            let modemRental = currentInternet.modemFee; 
            let internetDiscount = 0;
            let actualWifiRouterFee = 0;
            
            let tvBase = 0;
            let currentTvDiscount = 0; 
            let stbRental = 0;
            let phoneBase = 0;
            let phoneDiscount = 0; 
            let additionalTvCost = 0;

            if (wantsWifiRouter && internetPlanName !== 'none') {
                if (currentInternet.speed >= 1000) { 
                    actualWifiRouterFee = 0;
                } else {
                    actualWifiRouterFee = wifiRouterBaseFee;
                }
            }
            
            const isInternetOnlyBundle = (tvPlanName === 'none' && phonePlanName === 'none' && additionalTvPlanKey === 'none');

             if (discountType === 'none') {
                internetDiscount = 0;
                currentTvDiscount = 0;
                phoneDiscount = 0;
            } else if (internetPlanName !== 'none') {
                if (discountType === 'homeBundle') {
                     if (!isInternetOnlyBundle) { 
                        internetDiscount = simpleHomeBundleInternetDiscount;
                     }
                } else if (discountType === 'totalAmountBundle') {
                    const internetTypeKey = currentInternet.type; 
                    if (numMobileLines > 0 && totalMobileBaseCost > 0 && internetTypeKey && totalAmountDiscountsTable[internetTypeKey]) {
                        for (const tier of totalAmountDiscountsTable[internetTypeKey]) {
                            if (totalMobileBaseCost >= tier.mobileTotalMin && totalMobileBaseCost <= tier.mobileTotalMax) {
                                internetDiscount = tier.internetDiscount; 
                                break;
                            }
                        }
                    } else { internetDiscount = 0; }
                } else if (discountType === 'premiumFamilyBundle') {
                    if (highTierMobileLinesCount >= premiumFamilyConfig.minHighTierLinesForPremiumFamily) {
                        internetDiscount = premiumFamilyConfig.internetDiscount;
                    }
                } else if (discountType === 'premiumSingleBundle') {
                    if (currentInternet.speed >= premiumSingleConfig.minInternetSpeedForDiscount && 
                        numMobileLines === 1 && 
                        mobileLinesData[0].isHighTier && 
                        mobileLinesData[0].cost >= premiumSingleConfig.minMobileFeeForDiscount) {
                        if (isInternetOnlyBundle) { 
                           internetDiscount = premiumSingleConfig.internetDiscountIfStandalone;
                        } else {
                           internetDiscount = 0; 
                        }
                    }
                } else if (discountType === 'mvnoBundle') {
                    const internetTypeKey = currentInternet.type;
                    if (mvnoBundleConfig.internetDiscount[internetTypeKey]) {
                        internetDiscount = mvnoBundleConfig.internetDiscount[internetTypeKey];
                    }
                } else if (discountType === 'familyBundle') { 
                    const internetTypeKey = currentInternet.type;
                    if (familyBundleConfig.internetDiscount[internetTypeKey]) {
                        internetDiscount = familyBundleConfig.internetDiscount[internetTypeKey];
                    }
                } else if (discountType === 'separateFamilyBundle') {
                    const speed = currentInternet.speed;
                    if (speed === 100) {
                        internetDiscount = separateFamilyBundleConfig.internetDiscount["100M"];
                        if (tvPlanName !== 'none') currentTvDiscount = separateFamilyBundleConfig.tvDiscountReference["100M"];
                    } else if (speed === 500) {
                        internetDiscount = separateFamilyBundleConfig.internetDiscount["500M_1G"];
                        if (tvPlanName !== 'none') currentTvDiscount = separateFamilyBundleConfig.tvDiscountReference["500M_1G"];
                    } else if (speed >= 1000) {
                        internetDiscount = separateFamilyBundleConfig.internetDiscount["1000"];
                         if (tvPlanName !== 'none') currentTvDiscount = separateFamilyBundleConfig.tvDiscountReference["1000"];
                    }
                }
            }
            
            allDetailSections.forEach(section => {
                if (document.querySelector(`input[name="discountType"][value="${section.radioValue}"]`).checked && section.toggleEl && section.toggleEl.checked && section.updateFn) {
                    section.updateFn();
                }
            });
            
            internetDiscount = Math.min(internetDiscount, internetBase);
            const finalInternetComponentCost_NoDiscount = internetBase + modemRental + actualWifiRouterFee;
            const finalInternetComponentCost_WithDiscount = internetBase - internetDiscount + modemRental + actualWifiRouterFee;

            let finalTvComponentCost_NoDiscount = 0;
            let finalTvComponentCost_WithDiscount = 0;
            if (tvPlanName !== 'none') {
                const currentTvPlan = tvPlans[tvPlanName] || { basePrice: 0 };
                const currentStb = tvStbs[tvStbName] || { rentalFee: 0 };
                tvBase = currentTvPlan.basePrice;
                stbRental = currentStb.rentalFee;
                currentTvDiscount = Math.min(currentTvDiscount, tvBase); 
                finalTvComponentCost_NoDiscount = tvBase + stbRental;
                finalTvComponentCost_WithDiscount = tvBase - currentTvDiscount + stbRental;
            }
            
            let additionalTvComponentCost_NoDiscount = 0;
            let additionalTvComponentCost_WithDiscount = 0; 
            if (additionalTvPlanKey !== 'none' && additionalTvPlans[additionalTvPlanKey]) {
                 additionalTvCost = additionalTvPlans[additionalTvPlanKey].basePrice;
                 additionalTvComponentCost_NoDiscount = additionalTvCost;
                 additionalTvComponentCost_WithDiscount = additionalTvCost;
            }

            let finalPhoneComponentCost_NoDiscount = 0;
            let finalPhoneComponentCost_WithDiscount = 0;
            if (phonePlanName !== 'none') {
                const currentPhonePlan = phonePlans[phonePlanName] || { basePrice: 0 };
                phoneBase = currentPhonePlan.basePrice;
                finalPhoneComponentCost_NoDiscount = phoneBase; 
                finalPhoneComponentCost_WithDiscount = phoneBase - phoneDiscount; 
            }
            
            let finalMonthlyDisplayCost;
            let finalCostLabelText;
            let displayModeTextForScript; // For message scripts

            if (displayMode === 'preApplied') {
                finalMonthlyDisplayCost = finalInternetComponentCost_WithDiscount + finalTvComponentCost_WithDiscount + additionalTvComponentCost_WithDiscount + finalPhoneComponentCost_WithDiscount;
                finalCostLabelText = "μµμΆ… μμƒ μ›” λ‚©λ¶€μ•΅ (ν• μΈ μ μ©)";
                displayModeTextForScript = "(κ²°ν•© O, ν• μΈ μ μ©λ¨)";
            } else { // postApplied
                finalMonthlyDisplayCost = finalInternetComponentCost_NoDiscount + finalTvComponentCost_NoDiscount + additionalTvComponentCost_NoDiscount + finalPhoneComponentCost_NoDiscount;
                finalCostLabelText = "μμƒ μ›” κΈ°λ³Έλ£ μ΄μ•΅ (ν• μΈ μ μ© μ „)";
                displayModeTextForScript = "(κ²°ν•© μ „ κΈ°λ³Έλ£ κΈ°μ¤€)";
            }


            // Update UI
            totalBaseInternetCostEl.textContent = internetBase.toLocaleString();
            totalInternetDiscountAmountEl.textContent = internetDiscount.toLocaleString();
            internetModemRentalEl.textContent = modemRental.toLocaleString();
            wifiRouterRentalCostDisplayEl.textContent = actualWifiRouterFee.toLocaleString();

            if (tvPlanName !== 'none') {
                tvCostSummaryContainerEl.classList.remove('hidden');
                tvBaseCostDisplayEl.textContent = tvBase.toLocaleString();
                tvDiscountDisplayEl.textContent = currentTvDiscount.toLocaleString();
                stbRentalCostDisplayEl.textContent = stbRental.toLocaleString();
            } else {
                tvCostSummaryContainerEl.classList.add('hidden');
            }
            
            if (additionalTvPlanKey !== 'none') {
                additionalTvCostSummaryContainerEl.classList.remove('hidden');
                additionalTvCostDisplayEl.textContent = additionalTvCost.toLocaleString();
            } else {
                additionalTvCostSummaryContainerEl.classList.add('hidden');
            }

            if (phonePlanName !== 'none') {
                phoneCostSummaryContainerEl.classList.remove('hidden');
                phoneBaseCostDisplayEl.textContent = phoneBase.toLocaleString();
                phoneDiscountDisplayEl.textContent = phoneDiscount.toLocaleString();
            } else {
                phoneCostSummaryContainerEl.classList.add('hidden');
            }
            
            finalMonthlyCostEl.textContent = finalMonthlyDisplayCost.toLocaleString();
            finalCostLabelEl.textContent = finalCostLabelText;


            let calculatedInstallationFee = 0;
            const hasInternet = internetPlanName !== 'none';
            const hasTv = tvPlanName !== 'none';
            const hasAdditionalTv = additionalTvPlanKey !== 'none';
            const hasPhone = phonePlanName !== 'none';

            if (hasInternet && hasTv && hasAdditionalTv) { 
                calculatedInstallationFee = installationFees.internet_tv_addTv[installationTime];
            } else if (hasInternet && hasTv && hasPhone) { 
                calculatedInstallationFee = installationFees.internet_tv_phone[installationTime];
            } else if (hasInternet && hasTv) { 
                calculatedInstallationFee = installationFees.internet_tv[installationTime];
            } else if (hasInternet && hasPhone) { 
                calculatedInstallationFee = installationFees.internet_phone[installationTime];
            } else if (hasTv && hasPhone) {  
                calculatedInstallationFee = (installationFees.tv_only[installationTime] || 0) + (installationFees.phone_only[installationTime] || 0);
            } else if (hasInternet) { 
                calculatedInstallationFee = installationFees.internet_only[installationTime];
            } else if (hasTv) { 
                calculatedInstallationFee = installationFees.tv_only[installationTime];
            } else if (hasPhone) { 
                calculatedInstallationFee = installationFees.phone_only[installationTime];
            }


            selectedInternetEl.textContent = internetPlanName !== 'none' ? internetPlanName : 'λ―Έμ„ νƒ';
            selectedTvEl.textContent = tvPlanName !== 'none' ? tvPlanName : 'λ―Έμ„ νƒ';
            selectedStbEl.textContent = (tvPlanName !== 'none' && tvStbName !== 'none') ? tvStbEl.options[tvStbEl.selectedIndex].text.split(' (')[0] : 'λ―Έμ„ νƒ';
            selectedAdditionalTvEl.textContent = additionalTvPlanKey !== 'none' ? additionalTvPlans[additionalTvPlanKey].name : 'λ―Έμ„ νƒ';
            selectedPhoneEl.textContent = phonePlanName !== 'none' ? phonePlanName : 'λ―Έμ„ νƒ';
            selectedMobileCountEl.textContent = numMobileLines;
            
            const discountTypeMap = {
                none: "κ²°ν•© ν• μΈ μ—†μ",
                homeBundle: "ν™ κ²°ν•© (μ μ„  κ°„)",
                totalAmountBundle: "μ΄μ•΅ κ²°ν•©ν• μΈ",
                premiumFamilyBundle: "ν”„λ¦¬λ―Έμ—„ κ°€μ΅±κ²°ν•©",
                premiumSingleBundle: "ν”„λ¦¬λ―Έμ—„ μ‹±κΈ€κ²°ν•©",
                mvnoBundle: "μ•λ°ν° κ²°ν•©",
                familyBundle: "ν¨λ°€λ¦¬ κ²°ν•© (μΈν„°λ„· μ¶”κ°€νμ„ )",
                separateFamilyBundle: "λ”°λ΅ μ‚΄μ•„λ„ κ°€μ΅±κ²°ν•©"
            };
            selectedDiscountTypeEl.textContent = discountTypeMap[discountType];
            installationCostResultEl.textContent = calculatedInstallationFee.toLocaleString();

            // μ‚¬μ€ν’ κ³„μ‚°
            let giftCash = 0;
            let giftVoucher = 0;
            let giftPhoneVoucherAmount = 0;
            let giftAdditionalTvAmount = 0;
            let giftDongpanAdditionalCashAmount = 0;


            if (internetPlanName !== 'none') {
                const internetSpeed = currentInternet.speed;
                let tvCategoryForGift = "λ² μ΄μ§"; 
                let giftKeyPrefix = "";
                const isTvSelectedForGift = tvPlanName !== 'none';

                if (!isTvSelectedForGift) { 
                    tvCategoryForGift = "λ² μ΄μ§"; 
                    if (internetSpeed === 100) giftKeyPrefix = "100λ‹¨λ…";
                    else if (internetSpeed === 500) giftKeyPrefix = "500λ‹¨λ…";
                    else if (internetSpeed >= 1000) giftKeyPrefix = "1Gλ‹¨λ…";
                } else { 
                    tvCategoryForGift = tvPlanEl.options[tvPlanEl.selectedIndex].dataset.category || "λ² μ΄μ§";
                    if (internetSpeed === 100) giftKeyPrefix = "100λ²λ“¤";
                    else if (internetSpeed === 500) giftKeyPrefix = "500λ²λ“¤";
                    else if (internetSpeed >= 1000) giftKeyPrefix = "κΈ°κ°€λ²λ“¤";
                }
                
                if (giftTable[tvCategoryForGift] && giftTable[tvCategoryForGift][giftKeyPrefix]) {
                    giftCash = giftTable[tvCategoryForGift][giftKeyPrefix].cash;
                    giftVoucher = giftTable[tvCategoryForGift][giftKeyPrefix].voucher;
                }

                if (isDongpanChecked && numMobileLines > 0) {
                    const firstMobileLineFee = parseInt(document.getElementById('mobileCost0').value) || 0;
                    let mobileFeeTierKey = null;
                    if (firstMobileLineFee >= 37000 && firstMobileLineFee <= 58000) mobileFeeTierKey = "37K";
                    else if (firstMobileLineFee >= 61000 && firstMobileLineFee <= 89000) mobileFeeTierKey = "61K";
                    else if (firstMobileLineFee >= 90000 && firstMobileLineFee <= 110000) mobileFeeTierKey = "90K";

                    if (mobileFeeTierKey) {
                        let dongpanInternetKey = "";
                        if (internetSpeed === 100) dongpanInternetKey = "100M";
                        else if (internetSpeed === 500) dongpanInternetKey = "500M";
                        else if (internetSpeed >= 1000) dongpanInternetKey = "1G"; 

                        if (dongpanInternetKey) {
                            const dongpanBundleType = isTvSelectedForGift ? "TVλ²λ“¤" : "λ‹¨λ…";
                            const dongpanGiftData = dongpanAdditionalGiftTable_KT[mobileFeeTierKey];
                            if (dongpanGiftData && dongpanGiftData[dongpanInternetKey + "_" + dongpanBundleType]) {
                                giftDongpanAdditionalCashAmount = dongpanGiftData[dongpanInternetKey + "_" + dongpanBundleType];
                            }
                        }
                    }
                }
            }

            if (phonePlanName !== 'none') {
                giftPhoneVoucherAmount = 20000;
            }
            if (additionalTvPlanKey !== 'none') {
                giftAdditionalTvAmount = 30000; 
            }

            dongpanCashContainerKtEl.classList.toggle('hidden', !isDongpanChecked || giftDongpanAdditionalCashAmount === 0);
            giftDongpanAdditionalCashKtEl.textContent = giftDongpanAdditionalCashAmount.toLocaleString();

            giftCashEl.textContent = giftCash.toLocaleString();
            giftVoucherEl.textContent = giftVoucher.toLocaleString();
            giftPhoneVoucherEl.textContent = giftPhoneVoucherAmount.toLocaleString();
            giftAdditionalTvEl.textContent = giftAdditionalTvAmount.toLocaleString();
            giftTotalEl.textContent = (giftCash + giftVoucher + giftPhoneVoucherAmount + giftAdditionalTvAmount + giftDongpanAdditionalCashAmount).toLocaleString();
            
            resultSection.classList.remove('hidden');
            messageScriptSectionEl.classList.remove('hidden');
            generateMessageScripts(displayModeTextForScript); // Pass displayModeText
        }

        function generateMessageScripts(displayModeTextParam) { // Receive displayModeText
            const internetPlanText = internetPlanEl.options[internetPlanEl.selectedIndex].text.split(' (')[0];
            let firstTvText = "λ―Έμ„ νƒ";
            let firstStbText = "λ―Έμ„ νƒ";
            if (tvPlanEl.value !== 'none') {
                firstTvText = tvPlanEl.options[tvPlanEl.selectedIndex].text.split(' (')[0];
                if (tvStbEl.value !== 'none') {
                    firstStbText = tvStbEl.options[tvStbEl.selectedIndex].text.split(' (')[0];
                }
            }
            
            const additionalTvPlanKey = additionalTvPlanEl.value;
            const additionalTvText = additionalTvPlanKey !== 'none' ? ` + (μ¶”κ°€) ${additionalTvPlans[additionalTvPlanKey].name}` : "";
            const phoneText = phonePlanEl.value !== 'none' ? phonePlanEl.options[phonePlanEl.selectedIndex].text.split(' (')[0] : "λ―Έμ„ νƒ";


            const monthlyFee = finalMonthlyCostEl.textContent;
            const giftAmount = giftTotalEl.textContent;
            const installFee = installationCostResultEl.textContent;
            const installTime = document.querySelector('input[name="installationTime"]:checked').value;
            
            let installFeeForWeekendMessage = "";
            const hasInternet = internetPlanEl.value !== 'none';
            const hasTv = tvPlanEl.value !== 'none';
            const hasAdditionalTv = additionalTvPlanKey !== 'none';

            if (hasInternet && hasTv && hasAdditionalTv && installationFees.internet_tv_addTv) {
                 installFeeForWeekendMessage = installationFees.internet_tv_addTv.weekend.toLocaleString();
            } else if (hasInternet && hasTv && installationFees.internet_tv) {
                 installFeeForWeekendMessage = installationFees.internet_tv.weekend.toLocaleString();
            } else if (hasInternet && installationFees.internet_only) {
                 installFeeForWeekendMessage = installationFees.internet_only.weekend.toLocaleString();
            }
             else {
                installFeeForWeekendMessage = "λ³„λ„ λ¬Έμ";
            }


            let productDescriptionMemo = internetPlanText;
            if (firstTvText !== "λ―Έμ„ νƒ") productDescriptionMemo += ` + ${firstTvText}`;
            if (firstStbText !== "λ―Έμ„ νƒ") productDescriptionMemo += ` + ${firstStbText}`;
            productDescriptionMemo += additionalTvText;
            if (phoneText !== "λ―Έμ„ νƒ") productDescriptionMemo += ` + ${phoneText}`;


            memoScriptEl.value = `1. μƒν’ : ${productDescriptionMemo}
2. μ”κΈ : ${monthlyFee}μ› ${displayModeTextParam}
3. μ‚¬μ€ν’ : ${giftAmount}μ›
4. μ„¤μΉλΉ„ : ${installFee}μ›
5. κΈ°νƒ€ : μ΄μ‚¬ μ—¬λ¶€ [  ] / ν¬λ§μ„¤μΉμΌμ [    λ…„   μ›”   μΌ]`;
            
            let productDescriptionInfo = `β–¶οΈ ${internetPlanText}`;
            if (firstTvText !== "λ―Έμ„ νƒ") productDescriptionInfo += `\nβ–¶οΈ ${firstTvText}`;
            if (firstStbText !== "λ―Έμ„ νƒ" && firstTvText !== "λ―Έμ„ νƒ") productDescriptionInfo += ` + ${firstStbText}`;
            if(additionalTvText) productDescriptionInfo += `\nβ–¶οΈ (μ¶”κ°€) ${additionalTvPlans[additionalTvPlanKey].name}`;
            if (phoneText !== "λ―Έμ„ νƒ") productDescriptionInfo += `\nβ–¶οΈ ${phoneText}`;


            infoScriptEl.value = `[λ―Έμ†] μƒν’ & μ‚¬μ€ν’ μ”μ•½ μ•λ‚΄
μ•λ…•ν•μ„Έμ”, λ―Έμ† μΈν„°λ„· μ…λ‹λ‹¤.
κ³ κ°λ‹κ»μ„ μ¤λ μƒλ‹΄ λ°›μΌμ‹  μƒν’ μ•λ‚΄λ“λ¦½λ‹λ‹¤.
${productDescriptionInfo}
β–¶οΈ μ›” ${monthlyFee}μ› ${displayModeTextParam}
β–¶οΈ μ‚¬μ€ν’ ${giftAmount}μ›
* ννƒμ€ μ‹¤μ‹κ°„μΌλ΅ λ°”λ€” μ μλ‹¤λ” μ  μ•λ‚΄λ“λ¦½λ‹λ‹¤.
* 3λ…„ μ•½μ • κΈ°μ¤€
λ―Έμ† λ“λ¦Ό.`;
            
            let productDescriptionComplete = `β–¶οΈ ${internetPlanText}`;
            if (firstTvText !== "λ―Έμ„ νƒ") productDescriptionComplete += `\nβ–¶οΈ ${firstTvText}`;
            if (firstStbText !== "λ―Έμ„ νƒ" && firstTvText !== "λ―Έμ„ νƒ") productDescriptionComplete += ` + ${firstStbText} μ…‹ν†± μ„λ€ ν¬ν•¨`;
            if(additionalTvText) productDescriptionComplete += `\nβ–¶οΈ (μ¶”κ°€) ${additionalTvPlans[additionalTvPlanKey].name}`;
            if (phoneText !== "λ―Έμ„ νƒ") productDescriptionComplete += `\nβ–¶οΈ ${phoneText}`;


            completeScriptEl.value = `[λ―Έμ†] κ°€μ… μ™„λ£ μ•λ‚΄
μ•λ…•ν•μ„Έμ”, κ³ κ°λ‹.
λ―Έμ† μΈν„°λ„· λ¶€μ„μ…λ‹λ‹¤.
β… κ³„μ•½μ΄ μ™„λ£λμ—μ–΄μ”, μ•„λ λ‚΄μ©μ€ κ³„μ•½μ„μ™€ λ™μΌν• ν¨λ ¥μ΄ μμΌλ‹ κΌΌκΌΌν μ½μ–΄μ£Όμ„Έμ”.
β οΈ 3λ…„ μ•½μ •μ΄λ©°, μ•„λμ™€ κ°™μ€ μƒν™©μ— ν•΄λ‹Ήν•λ©΄ λ°›μΌμ…¨λ μ‚¬μ€ν’μ€ ν™μ λ©λ‹λ‹¤.
β‘  1λ…„ μ΄λ‚΄ ν•΄μ§€
β‘΅ 3κ°μ›” (90μΌ) μ΄μƒ μ •μ§€
β‘Ά 1λ…„ μ΄λ‚΄ μ”κΈμ  ν•ν–¥ (μƒν–¥ μ‹μ—λ” ν™μ λμ§€ μ•μµλ‹λ‹¤!)
β‘£ 3κ°μ›” μ΄λ‚΄ λ…μλ³€κ²½
β‘¤ κ°ν†µ 1κ°μ›” μ΄λ‚΄ κ²°μ μλ‹¨ μ§€λ΅μ²­κµ¬μ„λ΅ λ³€κ²½
β οΈ μ‹ κ· κ°€μ… ν›„ κΈ°μ΅΄μ— μΈν„°λ„·μ€ κΌ­ ν•΄μ§€ ν•΄μ£Όμ„Έμ”. μλ™ν•΄μ§€λμ§€ μ•μΌλ©° μ΄λ΄ κ²½μ° μ”κΈμ΄ μ΄μ¤‘ λ¶€κ³Όλμ–΄μ”.
β οΈ 3λ…„ μ΄λ‚΄ ν•΄μ§€ μ‹ ν†µμ‹ μ‚¬ λ³Έμ‚¬μ— μ„μ•½κΈ (ν• μΈ λ°ν™κΈ) λ° ν†µμ‹ μ‚¬μ— λ”°λΌ λ©΄μ λ μ™€μ΄νμ΄ / ν†µμ‹ κΈ°κΈ° μ„¤μΉλΉ„ λ°ν™μ΄ ν•„μ”ν•  μ μμ–΄μ”.
β… κ°€μ… μƒν’ μ•λ‚΄
${productDescriptionComplete}
β–¶οΈ μ›” ${monthlyFee}μ› ${displayModeTextParam}
β–¶οΈ μ„¤μΉλΉ„ ${installFee}μ› μ²« λ‹¬ λ¶€κ³Ό ${installTime === 'weekday' ? '' : `(μ£Όλ§/μ•Όκ°„ μ„¤μΉ μ‹ ${installFeeForWeekendMessage}μ›)`}
β–¶οΈ μ‚¬μ€ν’ ${giftAmount}μ›
β…μ‚¬μ€ν’μ€ μ„¤μΉ ν›„ 7μΌ μ΄λ‚΄ μλ™μΌλ΅ μ§€κΈ‰λλ‚ ν‰μΌκΈ°μ¤€ 5μ‹ μ΄μ „ κ°ν†µ λ°›μ•λ‹¤κ³  λ¬Έμ μ£Όμ‹λ©΄ λ‹ΉμΌμ…κΈ λ„μ›€λ“λ¦¬κ² μµλ‹λ‹¤.
${installTime !== 'weekday' ? `-> μ£Όλ§/μ•Όκ°„ μ„¤μΉλΉ„λ” ${installFeeForWeekendMessage}μ› μ΄μ‹­λ‹λ‹¤.` : ''}
π” ν•΄λ‹Ή μ—°λ½μ²λ΅ μ—°λ½μ΄ μ–΄λ ¤μΈ κ²½μ° κ±±μ •ν•μ§€ λ§μ„Έμ”! μ•„λ λ€ν‘λ²νΈλ΅ λ¬Έμμ£Όμ‹λ©΄ ν™•μΈν•μ—¬ μ—°λ½λ“λ¦¬κ² μµλ‹λ‹¤. μ‹κ°„ μ–‘ν•΄ λ¶€νƒλ“λ ¤μ”.
[λ―Έμ†λ¥Ό μ†κ°ν•΄μ£Όμ„Έμ”]
μ§€μΈμ΄ λ―Έμ†μ—μ„ μΈν„°λ„· μ„¤μΉν•λ©΄ μ†κ°ν•΄μ£Όμ‹  λ¶„μ—κ² 3λ§μ› λ“λ ¤μ”.
β–¶ μ§€μΈμ—κ² μ¶”μ²ν•κ³  3O,OOOμ› λ°›κΈ° (β†“)
https://get.miso.kr/pZbfsUPthzb
λ―Έμ† λ“λ¦Ό.`;

            if (dongpanMemoScriptEl) {
                dongpanMemoScriptEl.value = `<λ°±λ©”κ°€ μ μ‹¬λ™ν λ©”λ¨ μ–‘μ‹>
κ³ κ°λ… :
λ™νμ μ„ λ…μμ :
μ—°λ½μ² :
κΈ°μ΅΄ν†µμ‹ μ‚¬ :
μ μ‹¬λ°μ†΅μ£Όμ† :
μ„ νƒμ•½μ •μ—¬λ¶€ (12κ°μ›”/24κ°μ›”) :
μ”κΈμ  :
μ μ‹¬λΉ„ ν›„μ²­κµ¬ λ™μ (Y/N) :
β… κ²°ν•©μ—¬λ¶€ (ν”„λ¦¬λ―Έμ—„κ°€μ΅±/ν”„λ¦¬λ―Έμ—„μ‹±κΈ€/μ΄μ•΅) :
β… ν• μΈμ§€μ •(μ§€μ •ν• μΈorκΈ°μ—¬λ„) :
β… λ™ν κ²°ν•©μΈμ¦ (URL μ™„λ£μ—¬λ¶€) :
β… ν¨μ¤orμ‹ μ©μΉ΄λ“ μΈμ¦ :`;
            }
        }

        function copyToClipboard(elementId, feedbackElementId) {
            const textarea = document.getElementById(elementId);
            textarea.select();
            textarea.setSelectionRange(0, 99999); 
            try {
                document.execCommand('copy');
                const feedbackEl = document.getElementById(feedbackElementId);
                feedbackEl.textContent = 'λ³µμ‚¬λμ—μµλ‹λ‹¤!';
                setTimeout(() => { feedbackEl.textContent = ''; }, 2000);
            } catch (err) {
                const feedbackEl = document.getElementById(feedbackElementId);
                feedbackEl.textContent = 'λ³µμ‚¬ μ‹¤ν¨';
                 setTimeout(() => { feedbackEl.textContent = ''; }, 2000);
            }
            window.getSelection().removeAllRanges(); 
        }
        
        function setInitialDefaults() {
            internetPlanEl.value = "μΈν„°λ„· μ¬λ¦Ό"; 
            tvPlanEl.value = "μ§€λ‹ TV λ² μ΄μ§"; 
            tvStbEl.value = "UHD"; 
            additionalTvPlanEl.value = "none"; 
            phonePlanEl.value = "none"; 
            wifiRouterRentalEl.checked = false;
            mobileLinesCountEl.value = 0;
            updateMobileLinesInputs();
            document.querySelector('input[name="discountType"][value="totalAmountBundle"]').checked = true;
            document.querySelector('input[name="displayModeKt"][value="preApplied"]').checked = true;
            document.querySelector('input[name="installationTime"][value="weekday"]').checked = true;
             if (dongpanSalesCheckKtEl) {
                dongpanSalesCheckKtEl.checked = false;
                if(dongpanPolicyDetailsContainerKtEl) dongpanPolicyDetailsContainerKtEl.classList.add('hidden');
             }


            allDetailSections.forEach(section => {
                if (section.containerEl) {
                    const isSelected = document.querySelector(`input[name="discountType"][value="${section.radioValue}"]`).checked;
                    let shouldBeVisible = false; 
                    if (isSelected) { 
                        if (section.toggleEl) {
                            section.toggleEl.checked = false; 
                            shouldBeVisible = section.toggleEl.checked; 
                        }
                    } else { 
                         if (section.toggleEl) {
                            section.toggleEl.checked = false;
                         }
                    }
                    section.containerEl.classList.toggle('hidden', !shouldBeVisible);
                     if (shouldBeVisible && section.updateFn) { 
                        section.updateFn();
                    }
                }
            });
        }
        
        window.onload = setInitialDefaults;

    </script>
</body>
</html>
